{"title":"考研数据库","slug":"考研数据库","date":"2025-02-28T04:13:05.000Z","updated":"2025-03-02T13:33:35.190Z","comments":true,"path":"api/articles/考研数据库.json","excerpt":null,"covers":["/articles/7de3dde6/Cartesian.png","/articles/7de3dde6/waima1.png","/articles/7de3dde6/waima2.png","/articles/7de3dde6/waima3.png","/articles/7de3dde6/关系运算符1.png","/articles/7de3dde6/关系运算符2.png","/articles/7de3dde6/并运算.png","/articles/7de3dde6/交运算.png","/articles/7de3dde6/差运算.png","/articles/7de3dde6/广义笛卡尔积.png","/articles/7de3dde6/连接.png","/articles/7de3dde6/等值连接.png","/articles/7de3dde6/自然连接.png","/articles/7de3dde6/除示例.png","/articles/7de3dde6/SQL语言功能概述.png","/articles/7de3dde6/查询元组.png","/articles/7de3dde6/group_by.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"第三章-关系数据库\"><a href=\"#第三章-关系数据库\" class=\"headerlink\" title=\"第三章 关系数据库\"></a>第三章 关系数据库</h1><h2 id=\"关系模型概述\"><a href=\"#关系模型概述\" class=\"headerlink\" title=\"关系模型概述\"></a>关系模型概述</h2><h3 id=\"关系数据结构\"><a href=\"#关系数据结构\" class=\"headerlink\" title=\"关系数据结构\"></a>关系数据结构</h3><ul>\n<li>关系数据<u>模型</u>源于<u>数学</u>。</li>\n<li>用<strong>二维表</strong>来组织数据，这个二维表在关系数据库中就称为<strong>关系</strong>。</li>\n<li>关系数据库就是<u><strong>表</strong>或者说是<strong>关系</strong></u>的<strong>集合</strong>。</li>\n<li>关系系统要求让用户所感觉的数据库就是<u>一张张表</u>。</li>\n<li>在关系系统中，表是<strong>逻辑结构</strong>而不是物理结构。</li>\n</ul>\n<h3 id=\"关系操作\"><a href=\"#关系操作\" class=\"headerlink\" title=\"关系操作\"></a>关系操作</h3><h4 id=\"传统的关系运算\"><a href=\"#传统的关系运算\" class=\"headerlink\" title=\"传统的关系运算\"></a>传统的关系运算</h4><ul>\n<li><p><strong>并（Union）</strong></p>\n</li>\n<li><p><strong>交（Intersection）</strong></p>\n</li>\n<li><p><strong>差（Difference）</strong></p>\n</li>\n<li><p><strong>广义笛卡尔乘积（Extended Cartesian Product）</strong></p>\n</li>\n</ul>\n<h4 id=\"专门的关系运算\"><a href=\"#专门的关系运算\" class=\"headerlink\" title=\"专门的关系运算\"></a>专门的关系运算</h4><ul>\n<li><strong>选择（Select）</strong></li>\n<li><strong>投影（Project）</strong></li>\n<li><strong>连接（Join）</strong></li>\n<li><strong>除（Divide）</strong></li>\n</ul>\n<h3 id=\"关系模型的数据操作\"><a href=\"#关系模型的数据操作\" class=\"headerlink\" title=\"关系模型的数据操作\"></a>关系模型的数据操作</h3><ul>\n<li>主要包括：<u><strong>查询</strong>、<strong>插入</strong>、<strong>删除</strong>和<strong>修改</strong>数据</u>。</li>\n<li>是基于<strong>集合</strong>的操作，操作对象和操作结果都是<strong>集合（或关系）</strong>。</li>\n<li>是<strong>非过程化</strong>的。 <blockquote>\n<p>关系模型的数据操作<strong>非过程化</strong>是指在关系型数据库管理系统（RDBMS）中进行数据操作时，<strong>用户无需关心数据操作的具体实现过程，而只需要描述需要操作的数据和所期望的结果。</strong>这种方式与过程化操作（例如编写详细的操作步骤和控制流）有所不同，强调的是“做什么”而不是“如何做”。</p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"数据完整性约束\"><a href=\"#数据完整性约束\" class=\"headerlink\" title=\"数据完整性约束\"></a>数据完整性约束</h3><ul>\n<li>数据完整性是指<u>数据库中存储的<strong>数据</strong>是<strong>有意义的</strong>或<strong>正确的</strong></u>。</li>\n<li>主要包括三大类：<ul>\n<li><strong>实体完整性</strong></li>\n<li><strong>参照完整性</strong></li>\n<li><strong>用户定义的完整性</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"关系数据模型的基本术语与形式化定义\"><a href=\"#关系数据模型的基本术语与形式化定义\" class=\"headerlink\" title=\"关系数据模型的基本术语与形式化定义\"></a>关系数据模型的基本术语与形式化定义</h2><h3 id=\"关系数据模型的基本术语\"><a href=\"#关系数据模型的基本术语\" class=\"headerlink\" title=\"关系数据模型的基本术语\"></a>关系数据模型的基本术语</h3><ul>\n<li><strong>关系：</strong>关系就是二维表。并满足如下性质：<ul>\n<li>关系表中的每一列都是<u>不可再分</u>的基本属性；</li>\n<li>表中的<u>行、列次序并不重要</u>。</li>\n</ul>\n</li>\n<li><strong>属性：</strong>表中的每一<u>列</u>是一个属性值集，列可以命名，称为属性名。</li>\n<li><strong>值域：</strong>属性的取值范围 。如，性别只能是‘男’和‘女’两个值。</li>\n<li><strong>元组：</strong>表中的每一<u>行</u>称作是一个元组，它相当于一个记录值。</li>\n<li><strong>分量：</strong>元组中的每一个<u>属性值</u>称为元组的一个分量，n元关系的每个元组有n个分量。</li>\n<li><strong>关系模式：</strong>关系模式是<u><strong>关系的“型”</strong></u>或<u><strong>元组的结构共性的描述</strong></u>。关系模式实际上对应关系表的表头。设关系名为R，属性分别为A1，A2，…，An，则关系模式可以表示为：R（A1，A2，…，An） </li>\n<li><strong>关系数据库：</strong>对应于一个<u>关系模型</u>的<u>所有关系的集合</u>称为关系数据库。</li>\n<li><strong>候选码：</strong>能够唯一标识关系中的一个元组的<u><strong>一个属性</strong>或<strong>最小属性组</strong></u>。 </li>\n<li><strong>主码：</strong>指定候选码中的一个作为主码。</li>\n<li><strong>主属性：</strong>包含在任一候选码中的属性称为是主属性。</li>\n<li><strong>非主属性：</strong>不包含在任一候选码中的属性称为是非主属性。</li>\n<li><strong>外码：</strong>如果某个属性不一定是所在关系的码，但是其他关系的码，则称该属性为外码。</li>\n</ul>\n<h3 id=\"关系数据结构及其形式化定义\"><a href=\"#关系数据结构及其形式化定义\" class=\"headerlink\" title=\"关系数据结构及其形式化定义\"></a>关系数据结构及其形式化定义</h3><ol>\n<li><strong>关系的形式化定义</strong></li>\n</ol>\n<ul>\n<li><p><strong>笛卡尔积：</strong>设<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>为任意集合，定义笛卡尔积<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>为：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub><mo>×</mo><mo>…</mo><mo>×</mo><msub><mi>D</mi><mi>n</mi></msub><mo>=</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>d</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>D</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><mi>n</mi></mrow></mrow><annotation encoding=\"application/x-tex\">D_1 × D_2 × … × D_n = {(d_1, d_2, \\cdots, d_n) | d_i ∈ D_i, i = 1, 2, \\cdots, n }</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 其中每一个元素<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(d_1,d_2, \\cdots, d_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>称为一个n元组，简称元组。元组中每一个<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>称为是一个分量。 </p>\n  <img src=\"/articles/7de3dde6/Cartesian.png\" width=70% height=70% /></li>\n<li><p>笛卡尔积<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的任意一个子集称为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>上的一个n元关系。</p>\n<blockquote>\n<p>首先，笛卡尔积是指两个或多个集合之间的运算。给定集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>𝐷</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>𝐷</mi><mi>𝑛</mi></msub></mrow><annotation encoding=\"application/x-tex\">𝐷_1, 𝐷_2, \\cdots, 𝐷_𝑛</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ，它们的笛卡尔积表示的是所有可能的有序元组，每个元组的第 𝑖 个元素来自于集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mi>𝑖</mi></msub></mrow><annotation encoding=\"application/x-tex\">𝐷_𝑖</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 。数学上，笛卡尔积可以表示为：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mn>1</mn></msub><mo>×</mo><msub><mi>𝐷</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>𝐷</mi><mi>𝑛</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><msub><mi>𝑑</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>𝑑</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>𝑑</mi><mi>𝑛</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>𝑑</mi><mi>𝑖</mi></msub><mo>∈</mo><msub><mi>𝐷</mi><mi>𝑖</mi></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∀</mi><mi>𝑖</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">𝐷_1 × 𝐷_2 × \\cdots × 𝐷_𝑛 = \\{(𝑑_1, 𝑑_2, \\cdots, 𝑑_𝑛)∣𝑑_𝑖 ∈ 𝐷_𝑖, ∀𝑖\\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∣</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">}</span></span></span></span> .  例如，如果<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">}</mo><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">D_1 = \\{1,2\\}, D_2 = \\{a, b\\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">}</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">}</span></span></span></span>，那么它们的笛卡尔积就是所有可能的有序元组：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">D_1 × D_2 = \\{(1,a),(1,b),(2,a),(2,b)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)}</span></span></span></span>.<br>一个n元关系是指从一个笛卡尔积中选出的一个子集。例如，在上面的笛卡尔积中，一个子集如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{(1,a),(2,b)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)}</span></span></span></span>就是一个2元关系，表示了来自集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的某些特定组合。</p>\n</blockquote>\n</li>\n<li><p>形式化的关系定义同样可以把关系看成二维表，给表的每个列取一个名字，称为属性。</p>\n</li>\n<li><p>n元关系有n个属性，一个关系中的属性的名字必须是唯一的。</p>\n</li>\n<li><p>属性<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的取值范围（i＝1，2，…，n）称为该属性的值域（domain）。 </p>\n</li>\n<li><p>从集合论的观点也可以将关系定义为：关系是一个有K个属性的元组的集合。</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>对关系的限定</li>\n</ol>\n<ul>\n<li>关系中的每个分量都必须是<u>不可再分</u>的最小数据项。 </li>\n<li>表中列的数据类型是固定的，即<u>每个列</u>中的分量是<u>同类项</u>的数据，来自相同的值域。 </li>\n<li><u>不同的列的数据可以取自相同的值域</u>，每个列称为一个属性，每个属性有不同的属性名。 </li>\n<li>关系表中行、列的顺序不重要 。</li>\n<li><strong>同一个关系中元组不能重复</strong>。</li>\n</ul>\n<h2 id=\"关系模型的完整性约束\"><a href=\"#关系模型的完整性约束\" class=\"headerlink\" title=\"关系模型的完整性约束\"></a>关系模型的完整性约束</h2><h3 id=\"实体完整性\"><a href=\"#实体完整性\" class=\"headerlink\" title=\"实体完整性\"></a>实体完整性</h3><ul>\n<li>实体完整性是保证关系中的<strong>每个元组</strong>都是<strong>可识别的</strong>和<strong>唯一的</strong>。 </li>\n<li>而且表中不允许存在如下的记录：<ul>\n<li><strong>无主码值</strong>的记录</li>\n<li><strong>主码值相同</strong>的记录</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"参照完整性\"><a href=\"#参照完整性\" class=\"headerlink\" title=\"参照完整性\"></a>参照完整性</h3><ul>\n<li><p>用于描述<strong>实体</strong>之间的联系。</p>\n<blockquote>\n<p><strong>实体与表：</strong>在关系型数据库中，<strong>表</strong>用来存储<strong>实体</strong>的<strong>实例</strong>，表中的每一行是实体的一个实例（例如一个学生），每一列是实体的一个属性（例如学生的姓名、学号等）。<br><strong>在很多情况下，一个实体可以被映射为一张表，</strong>这种映射关系是数据库设计中的常见做法。具体来说：</p>\n</blockquote>\n<ul>\n<li>实体的每个属性通常对应表中的一个字段（列）。</li>\n<li>实体的每个实例通常对应表中的一行（记录）。</li>\n<li>实体的主键通常对应表中的唯一标识字段（通常是主键）。</li>\n</ul>\n</li>\n<li><p>参照完整性一般是指多个实体（表）之间的关联关系。 </p>\n</li>\n<li><p>一般用<u>外码</u>实现。</p>\n</li>\n<li><p><strong>外码：</strong>取作本表（子表）属性之一的外表（父表，主表）主码。</p>\n</li>\n<li><p><strong>主码值先在主表中生成，后在子表中引用。</strong></p>\n</li>\n<li><p><strong>外码引用例：</strong></p>\n<img src=\"/articles/7de3dde6/waima1.png\" width=70% height=70% />\n<img src=\"/articles/7de3dde6/waima2.png\" width=70% height=70% />\n<img src=\"/articles/7de3dde6/waima3.png\" width=70% height=70% />\n</li>\n<li><p>参照完整性规则就是定义外码与主码之间的引用规则。</p>\n</li>\n<li><p>对于外码，一般应符合如下要求：</p>\n<ul>\n<li>或者值为空；</li>\n<li>或者等于其所应用的关系中的某个元组的主码值。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"用户定义的完整性\"><a href=\"#用户定义的完整性\" class=\"headerlink\" title=\"用户定义的完整性\"></a>用户定义的完整性</h3><ul>\n<li>按<u>应用语义</u>，属性数据有：<ul>\n<li>类型与长度限制：方便计算机操作</li>\n<li>取值范围限制：<u>防止属性值与应用语义矛盾</u></li>\n<li><strong>语义许可取值范围约束例：</strong><ul>\n<li>成绩取<ol>\n<li>[0 .. 100],</li>\n<li>{优、良、中、及格、不及格}</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"关系代数\"><a href=\"#关系代数\" class=\"headerlink\" title=\"关系代数\"></a>关系代数</h2><ul>\n<li>关系模型源于数学，关系是由元组构成的集合，可以通过关系的运算来表达查询要求。</li>\n<li>关系代数是关系操作语言的一种传统的表示方式，它是一种抽象的查询语言。</li>\n<li>关系代数的运算可分为两大类：<ul>\n<li>传统的集合运算：广义笛卡尔积运算、并、交和差运算。</li>\n<li>专门的关系运算：选择、投影、连接和除运算。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"关系运算符\"><a href=\"#关系运算符\" class=\"headerlink\" title=\"关系运算符\"></a>关系运算符</h3><img src=\"/articles/7de3dde6/关系运算符1.png\" width=70% height=70% /> \n<img src=\"/articles/7de3dde6/关系运算符2.png\" width=70% height=70% /> \n\n<h3 id=\"传统的集合运算\"><a href=\"#传统的集合运算\" class=\"headerlink\" title=\"传统的集合运算\"></a>传统的集合运算</h3><ul>\n<li><p>传统的集合运算是二目运算，</p>\n<blockquote>\n<p><strong>二目运算</strong>指的是一个操作需要两个输入值的运算，这些输入值可以是数字、布尔值或其他类型的数据。</p>\n</blockquote>\n</li>\n<li><p>设关系R和S均是n元关系，且<strong>相应的属性值取自同一个值域</strong>，则可以定义三种运算：</p>\n<ul>\n<li><strong>并运算（∪）</strong><ul>\n<li>关系R与关系S的并记为：<ul>\n<li>R∪S＝{t | t∈R ∨t∈S }</li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R或属于S的元组组成。 <img src=\"/articles/7de3dde6/并运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><strong>交运算（∩）</strong><ul>\n<li>关系R与关系S的交记为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>∩</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><mtext> </mtext><mi>t</mi><mtext> </mtext><mi mathvariant=\"normal\">∣</mi><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>R</mi><mtext> </mtext><mtext>  </mtext><mo>∧</mo><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R ∩ S ＝ \\{ \\, t \\, | \\, t ∈ R \\,\\; ∧ \\, t ∈ S \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6542em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R并且也属于S的元组组成。 <img src=\"/articles/7de3dde6/交运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><strong>差运算（―）</strong><ul>\n<li>关系R与关系S的差记为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext>－</mtext><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><mtext> </mtext><mi>t</mi><mtext> </mtext><mi mathvariant=\"normal\">∣</mi><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>R</mi><mtext> </mtext><mtext>  </mtext><mo>∧</mo><mtext> </mtext><mi>t</mi><mo mathvariant=\"normal\">∉</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R － S ＝ \\{ \\, t \\, | \\, t ∈ R \\,\\; ∧ \\, t \\notin S\\}  </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">－</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mord\"><span class=\"mrel\">∈</span></span><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"llap\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mord\">/</span><span class=\"mspace\" style=\"margin-right:0.0556em;\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R但不属于S的元组组成。 <img src=\"/articles/7de3dde6/差运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>广义笛卡尔积</strong></p>\n<ul>\n<li>两个分别为n目和m目的关系R和关系S的广义笛卡尔积是一个（m＋n）列的元组的集合。</li>\n<li>元组的前n个列是关系R的一个元组，后m个列是关系S的一个元组。</li>\n<li>若R有K1个元组，S有K2个元组，则关系R和关系S的广义笛卡尔积有K1×K2个元组，记做：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>×</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><msub><mi>t</mi><mi>r</mi></msub><mtext>^</mtext><msub><mi>t</mi><mi>s</mi></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mi>t</mi><mi>s</mi></msub><mo>∈</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R × S ＝ \\{t_r \\text{\\textasciicircum} t_s | t_r \\in R ∧ t_s \\in S \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">^</span></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span> \n<blockquote>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>r</mi></msub><mtext>^</mtext><msub><mi>t</mi><mi>s</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_r \\text{\\textasciicircum} t_s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">^</span></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>表示由两个元组<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>r</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>s</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>前后有序连接而成的一个元组。</blockquote>\n</li>\n</ul>\n<img src=\"/articles/7de3dde6/广义笛卡尔积.png\" width=70% height=70% /></li>\n</ul>\n<h3 id=\"专门的关系运算-1\"><a href=\"#专门的关系运算-1\" class=\"headerlink\" title=\"专门的关系运算\"></a>专门的关系运算</h3><ul>\n<li>专门的关系运算包括：<u>选择</u>、<u>投影、连接和除</u>等操作，其中第一个为一元操作，后三者为二元操作。</li>\n</ul>\n<h4 id=\"选择\"><a href=\"#选择\" class=\"headerlink\" title=\"选择\"></a>选择</h4><ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>σ</mi><mi>F</mi></msub><mtext>（</mtext><mi>R</mi><mtext>）＝</mtext><mo stretchy=\"false\">{</mo><mi>r</mi><mi mathvariant=\"normal\">∣</mi><mi>r</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>F</mi><mtext>（</mtext><mi>t</mi><mtext>）＝‘真’</mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">σ_{F}（R）＝ \\{ r | r∈R ∧ F（t）＝‘真’ \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mord\">‘</span><span class=\"mord cjk_fallback\">真</span><span class=\"mord\">’</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>其中：σ是选择运算符，R是关系名，r是元组，F是逻辑表达式，取逻辑“真”值或“假”值。</li>\n<li>例，选择系为计算机系的学生信息：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>σ</mi><mrow><mi>S</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi><mtext>＝‘计算机系’</mtext></mrow></msub><mtext>（学生表）</mtext></mrow><annotation encoding=\"application/x-tex\">σ_{Sdept＝‘计算机系’}（学生表）</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span><span class=\"mord cjk_fallback mtight\">＝</span><span class=\"mord mtight\">‘</span><span class=\"mord cjk_fallback mtight\">计算机系</span><span class=\"mord mtight\">’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">（学生表）</span></span></span></span></li>\n</ul>\n<h4 id=\"投影\"><a href=\"#投影\" class=\"headerlink\" title=\"投影\"></a>投影</h4><ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mi>A</mi></msub><mtext>（</mtext><mi>R</mi><mtext>）＝</mtext><mo stretchy=\"false\">{</mo><mi>r</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>r</mi><mo>∈</mo><mi>R</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">∏_A（R）＝ \\{ r.A | r∈R \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">A</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>其中：<ul>\n<li>∏是投影运算符，</li>\n<li>R是关系名，</li>\n<li>A是被投影的属性或属性组。</li>\n<li>r.A表示r这个元组中相应于属性（集）A的分量，也可以表示为r[A]。</li>\n</ul>\n</li>\n<li>例如，选择sname，sdept两个列构成新关系：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi></mrow></msub><mtext>（</mtext><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mtext>）</mtext></mrow><annotation encoding=\"application/x-tex\">∏_{sname, sdept}（Student） </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">）</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"连接\"><a href=\"#连接\" class=\"headerlink\" title=\"连接\"></a>连接</h4><ul>\n<li><p>其中：</p>\n<ul>\n<li>A和B分别是关系R和S上可比的属性组，</li>\n<li>θ是比较运算符，</li>\n<li>连接运算从R和S的广义笛卡尔积R×S中选择（R关系）在A属性组上的值与（S关系）在B属性组上值满足比较运算符θ的元组。 <img src=\"/articles/7de3dde6/连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><p><strong>等值连接</strong></p>\n<ul>\n<li>当θ为“＝”时的连接为等值连接，</li>\n<li>是从关系R与关系S的广义笛卡尔积中选取A，B属性值相等的那些元组。 <img src=\"/articles/7de3dde6/等值连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><p><strong>自然连接</strong></p>\n<ul>\n<li>自然连接去掉结果中的重复列。</li>\n<li>自然连接与等值连接的差别为：<ul>\n<li>自然连接要求相等的分量必须有共同的属性名，等值连接则不要求；</li>\n<li>自然连接要求把重复的属性名去掉，等值连接却不这样做。  <img src=\"/articles/7de3dde6/自然连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>除（Division）</strong></p>\n<img src=\"/articles/7de3dde6/除示例.png\" width=70% height=70% />\n\n<ul>\n<li><strong>（1）除法的简单形式</strong><ul>\n<li>设关系S的属性是关系R的属性的一部分，则R÷S为这样一个关系：</li>\n<li>此关系的属性是由属于R但不属于S的所有属性组成；</li>\n<li>R÷S的任一元组都是R中某元组的一部分。但必须符合下列要求，即任取属于R÷S的一个元组t，则t与S的任一元组连接后，都为R中原有的一个元组。</li>\n</ul>\n</li>\n<li><strong>（2）除法的一般形式</strong><ul>\n<li>设有关系R（X，Y）和S（Y，Z），其中X、Y、Z为关系的属性组，则：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext>（</mtext><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mtext>）</mtext><mo>÷</mo><mi>S</mi><mtext>（</mtext><mi>Y</mi><mo separator=\"true\">,</mo><mi>Z</mi><mtext>）＝</mtext><mi>R</mi><mtext>（</mtext><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mtext>）</mtext><mo>÷</mo><msub><mo>∏</mo><mi>Y</mi></msub><mtext>（</mtext><mi>S</mi><mtext>）</mtext></mrow><annotation encoding=\"application/x-tex\">R（X,Y）÷ S（Y,Z）＝R（X,Y）÷ ∏_Y（S） </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord cjk_fallback\">）</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord cjk_fallback\">）</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">）</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>象集：</strong>给定一个关系R（X，Y），X和Y为属性组。定义，当t［X］＝x时，x在R中的象集为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Y</mi><mi>x</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mi>t</mi><mo stretchy=\"false\">[</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>t</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mi>x</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">Y_x =\\{ t[Y] | t \\in R ∧ t[X]=x \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>上式中：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo stretchy=\"false\">[</mo><mi>Y</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t[Y] </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t[X] </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span></span></span></span>分别表示R中的元组t 在属性组Y和X上的分量的集合。</li>\n</ul>\n</li>\n<li><strong>除法的一般形式：</strong></li>\n<li>设有关系R（X，Y）和S（Y，Z），其中X、Y、Z为关系的属性组，则：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>÷</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><msub><mi>t</mi><mi>r</mi></msub><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mo>∏</mo><mi>Y</mi></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>Y</mi><mi>x</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R÷S＝ \\{t_r[X] | t_{r} \\in R ∧ ∏_{Y}(S) = Y_x \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>查询修c02号课程的学生的学号和成绩。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>o</mi><mo separator=\"true\">,</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi><mi>o</mi><mo>=</mo><mtext>‘</mtext><mi>c</mi><mn>02</mn><mtext>’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sno, grade}(σ_{cno=‘c02’}(SC)) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mtight\">02’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mclose\">))</span></span></span></span></li>\n<li><p>查询计算机系修c02号课程的学生的姓名和成绩。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi><mi>o</mi><mo>=</mo><mtext>‘</mtext><mi>c</mi><mn>02</mn><mtext>’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo stretchy=\"false\">)</mo><mo>⋈</mo><msub><mi>σ</mi><mrow><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi><mo>=</mo><mtext>‘计算机系’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sname, grade}(σ_{cno=‘c02’}(SC)  \\bowtie  σ_{sdept=‘计算机系’}(Student)) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mtight\">02’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord cjk_fallback mtight\">计算机系</span><span class=\"mord mtight\">’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">))</span></span></span></span></li>\n<li><p>查询修了第2学期课程的学生的姓名和所在系。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>s</mi><mi>e</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>=</mo><mn>2</mn></mrow></msub><mo stretchy=\"false\">(</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>e</mi><mo stretchy=\"false\">)</mo><mo>⋈</mo><mi>S</mi><mi>C</mi><mo>⋈</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sname, sdept}(σ_{semester=2}(Course) \\bowtie SC \\bowtie Student) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">se</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rse</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6883em;vertical-align:-0.005em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><p>查询修了全部课程的学生的学号和姓名。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>o</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>⋈</mo><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo>÷</mo><msub><mo>∏</mo><mrow><mi>c</mi><mi>n</mi><mi>o</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>e</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sno, sname}(Student \\bowtie (SC ÷ ∏_{cno}(Course))) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.0017em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.0017em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rse</span><span class=\"mclose\">)))</span></span></span></span></li>\n</ul>\n<h1 id=\"第4章-SQL语言基础\"><a href=\"#第4章-SQL语言基础\" class=\"headerlink\" title=\"第4章 SQL语言基础\"></a>第4章 SQL语言基础</h1><h2 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h2><h3 id=\"SQL语言的发展\"><a href=\"#SQL语言的发展\" class=\"headerlink\" title=\"SQL语言的发展\"></a>SQL语言的发展</h3><ul>\n<li>1986年10月由美国ANSI 公布最早的SQL标准。 </li>\n<li>1989年4月，ISO提出了具备完整性特征的SQL，称为<strong>SQL-89</strong> 。</li>\n<li>1992年11月，ISO又公布了新的SQL标准，称为<strong>SQL-92</strong><u>（以上均为关系形式）</u>。</li>\n<li>1999年颁布<strong>SQL-99</strong>，<u>是SQL92的扩展</u>。</li>\n</ul>\n<h3 id=\"SQL语言的特点\"><a href=\"#SQL语言的特点\" class=\"headerlink\" title=\"SQL语言的特点\"></a>SQL语言的特点</h3><ol>\n<li><p>一体化。 </p>\n<blockquote>\n<p>一体化指的是SQL语言提供了一个统一的接口来进行数据库的各种操作。无论是数据的查询、插入、更新、删除，还是数据库的结构设计、权限管理等，SQL都可以在一个统一的框架下完成。这种统一性意味着开发者不需要了解底层的数据库实现细节，而只需专注于如何表达自己的需求。<br>举个例子，在SQL中，查询、插入和更新操作有统一的语法结构，开发者可以通过简单的SQL语句实现复杂的数据操作，不需要涉及底层的技术细节。</p>\n</blockquote>\n</li>\n<li><p>高度非过程化。 </p>\n<blockquote>\n<p>SQL是非过程化的，即在SQL中，开发者不需要关心数据操作的具体执行过程，只需要说明”做什么”（例如查询、更新、删除），而不需要明确告诉数据库”如何做”。<br>非过程化意味着你只需描述你想要的结果，数据库系统会根据内部优化器自动决定最合适的执行计划。例如，执行一个查询时，SQL不要求你指定数据是如何检索的（比如先查哪个表，如何连接等），这些由数据库系统自动完成。</p>\n</blockquote>\n</li>\n<li><p>简洁。</p>\n<blockquote>\n<p>SQL语言非常简洁，使用自然语言的结构来描述数据操作。SQL的语法是基于英语的，使得它容易理解和使用。由于SQL是<strong>声明式语言</strong>，开发者只需要描述查询的目的，而无需关注实现细节。通过简洁的语法，SQL可以在非常短的代码行内表达复杂的数据库操作。<br><strong>声明式语言（Declarative Language）</strong>是一类编程语言，其主要特点是程序员只需要描述想要做什么，而不需要详细地描述如何去做。也就是说，在声明式语言中，程序员关注的是结果而不是实现过程。</p>\n</blockquote>\n</li>\n<li><p>使用方式多样。</p>\n<blockquote>\n<p>SQL不仅用于查询数据，还可以用于多种数据库操作和管理任务。它支持数据定义（创建表、修改表结构等）、数据操作（插入、更新、删除等）、数据控制（权限管理等）等功能。</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"SQL语言功能概述\"><a href=\"#SQL语言功能概述\" class=\"headerlink\" title=\"SQL语言功能概述\"></a>SQL语言功能概述</h3><img src=\"/articles/7de3dde6/SQL语言功能概述.png\" width=70% height=70% />\n\n<h2 id=\"SQL的数据类型\"><a href=\"#SQL的数据类型\" class=\"headerlink\" title=\"SQL的数据类型\"></a>SQL的数据类型</h2><h3 id=\"数值型\"><a href=\"#数值型\" class=\"headerlink\" title=\"数值型\"></a>数值型</h3><ul>\n<li>准确型 <ul>\n<li>整数<br>Bigint: 8字节，         Int：4字节<br>Smallint：2字节，   Tinyint：1字节<br>Bit：1位，存储1或0</li>\n<li>小数<br>Numeric（p,q）或Decimal（p,q），<br>其中：p为数字位长度，q：小数位长度。</li>\n</ul>\n</li>\n<li>近似型<br>Float：8字节<br>Real：4字节</li>\n</ul>\n<h3 id=\"字符串型\"><a href=\"#字符串型\" class=\"headerlink\" title=\"字符串型\"></a>字符串型</h3><h4 id=\"普通编码字符串类型\"><a href=\"#普通编码字符串类型\" class=\"headerlink\" title=\"普通编码字符串类型\"></a>普通编码字符串类型</h4><blockquote>\n<p>这些类型通常使用数据库的<strong>默认字符集</strong>（如 ASCII 或其他单字节编码）进行存储，因此每个字符通常占用 <strong>1个字节</strong>。它们适用于<u>不需要多语言支持、主要处理英文字符或其他单字节字符</u>的场景。</p>\n</blockquote>\n<ul>\n<li><p>Char（n）:定长存储，n&lt;&#x3D;8000</p>\n</li>\n<li><p>Varchar（n）：不定长存储<strong>（按实际长度存储）</strong>，长度最大不超过n , n&lt;&#x3D;8000 </p>\n<blockquote>\n<p>注：n 为字符个数</p>\n</blockquote>\n</li>\n<li><p>Text：存储大于8000字节的文本</p>\n</li>\n</ul>\n<h4 id=\"统一字符编码字符串类型\"><a href=\"#统一字符编码字符串类型\" class=\"headerlink\" title=\"统一字符编码字符串类型\"></a>统一字符编码字符串类型</h4><ul>\n<li>nchar（n）：定长存储，n&lt;&#x3D;4000 </li>\n<li>nvarchar（n）：不定长存储，长度最大不超过n , n&lt;&#x3D;4000 </li>\n<li>ntext：存储大于8000字节的文本<blockquote>\n<p>特点：每个字符占两个字节</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"二进制字符串类型\"><a href=\"#二进制字符串类型\" class=\"headerlink\" title=\"二进制字符串类型\"></a>二进制字符串类型</h4><ul>\n<li>Binary(n)：固定长度，n &lt;&#x3D; 8000。</li>\n<li>Varbinary(n)：可变长度，n &lt;＝8000 。<blockquote>\n<p>注：n为二进制数据的字节数</p>\n</blockquote>\n</li>\n<li><strong>image：</strong>大容量、可变长二进制字符数据，可用于存储文件。</li>\n</ul>\n<h3 id=\"日期时间型\"><a href=\"#日期时间型\" class=\"headerlink\" title=\"日期时间型\"></a>日期时间型</h3><ul>\n<li><p>Datetime：8字节，年月日时分秒<strong>毫秒</strong><br>（例：‘2001&#x2F;08&#x2F;03 10:30:00.000’ ）</p>\n</li>\n<li><p>SmallDateTime：4字节，年月日时<strong>分</strong><br>（例： ‘2001&#x2F;08&#x2F;03 10:30:00’ ）</p>\n</li>\n<li><p>日期、时间的输入格式</p>\n</li>\n</ul>\n<h3 id=\"货币型\"><a href=\"#货币型\" class=\"headerlink\" title=\"货币型\"></a>货币型</h3><ul>\n<li>Money： 8 个字节，精确到货币单位的千分之十。</li>\n<li>Smallmoney： 4 个字节，精确到货币单位的千分之十。</li>\n<li>限制到小数点后 4 位。</li>\n<li><strong>可以带有适当的货币符号。</strong>例如，100 英镑可表示为 £100。</li>\n</ul>\n<h2 id=\"基本表的定义、删除及修改\"><a href=\"#基本表的定义、删除及修改\" class=\"headerlink\" title=\"基本表的定义、删除及修改\"></a>基本表的定义、删除及修改</h2><h3 id=\"基本表的定义与删除\"><a href=\"#基本表的定义与删除\" class=\"headerlink\" title=\"基本表的定义与删除\"></a>基本表的定义与删除</h3><ol>\n<li>定义基本表<br>  使用SQL语言中的<code>CREATE TABLE</code>语句实现，其一般格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span>  <span class=\"keyword\">TABLE</span>  <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span>（</span><br><span class=\"line\">    <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span>  [列级完整性约束定义]</span><br><span class=\"line\">&#123;,  <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span> </span><br><span class=\"line\">    [列级完整性约束定义］ … &#125;</span><br><span class=\"line\">[, 表级完整性约束定义 ] ） </span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li><p>在列级完整性约束定义处可以定义的约束</p>\n<ul>\n<li>NOT NULL：限制列取值非空。</li>\n<li>DEFAULT：给定列的默认值。</li>\n<li>UNIQUE：限制列取值不重。</li>\n<li>CHECK：限制列的取值范围。</li>\n<li>PRIMARY KEY：指定本列为主码。</li>\n<li>FOREIGN KEY：定义本列为引用其他表的外码。使用形式为：</li>\n<li>[FOREIGN KEY(&lt;外码列名&gt;)] REFERENCES &lt;外表名&gt;（&lt;外表列名&gt;）</li>\n</ul>\n</li>\n<li><p>几点说明</p>\n<ul>\n<li>NOT NULL和DEFAULT只能是列级完整性约束；</li>\n<li>其他约束均可在表级完整性约束处定义。</li>\n<li>注意以下几点：<ul>\n<li>第一，如果CHECK约束是定义多列之间的取值约束，则只能在表级完整性约束处定义；</li>\n<li>第二，如果表的主码由多个列组成，则也只能在表级完整性约束处定义，并将主码列用括号括起来，即：PRIMARY KEY（列1｛[，列2 ] …｝）；</li>\n<li>第三，如果在表级完整性约束处定义外码，则“FOREIGN KEY (&lt;外码列名&gt;)”部分不能省。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>约束说明<br>① 列取值非空约束<br><code>&lt;列名&gt;  &lt;类型&gt; NOT NULL</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sname <span class=\"type\">char</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span></span><br></pre></td></tr></table></figure>\n<p>② 表主码约束</p>\n</li>\n<li><p>在定义列时定义主码（仅用于单列主码）<br><code>列定义  PRIMARY KEY</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SNO <span class=\"type\">char</span>(<span class=\"number\">7</span>) <span class=\"keyword\">PRIMARY</span> KEY</span><br></pre></td></tr></table></figure></li>\n<li><p>在定义完列时定义主码（用于单列或多列主码）<br><code>PRIMARY KEY （&lt;列名序列&gt;）</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">PRIMARY</span> KEY(SNO)</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY(SNO，CNO)</span><br></pre></td></tr></table></figure>\n<p>③ 外码引用约束</p>\n</li>\n<li><p>指明本表外码列引用的表及表中的主码列。<br><code>[ FOREIGN KEY （&lt;本表列名&gt;）]</code><br><code>REFERENCES &lt;外表名&gt;（&lt;外表主码列名&gt;）</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FOREIGN</span> KEY （sno）</span><br><span class=\"line\">  <span class=\"keyword\">REFERENCES</span>  学生表（sno）</span><br></pre></td></tr></table></figure>\n<p>④ 默认值约束</p>\n</li>\n<li><p>格式：DEFAULT 默认值<br>例：<br>定义系的默认值为“计算机系”。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DEFAULT</span>  ‘计算机系’</span><br></pre></td></tr></table></figure>\n<p>⑤ CHECK约束</p>\n</li>\n<li><p>格式：CHECK (约束表达式)<br>例：<br>定义成绩大于等于0。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CHECK</span> (  grade <span class=\"operator\">&gt;=</span> <span class=\"number\">0</span> )</span><br></pre></td></tr></table></figure>\n<p>⑥ UNIQUE约束</p>\n</li>\n<li><p>在列级约束定义（仅用于单列约束）<br><code>列定义  UNIQUE</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SNAME  <span class=\"type\">char</span>(<span class=\"number\">7</span>) <span class=\"keyword\">UNIQUE</span></span><br></pre></td></tr></table></figure></li>\n<li><p>在表级约束定义（用于单列或多列组合约束）<br><code>UNIQUE （&lt;列名序列&gt;）</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UNIQUE</span> (SNO，CNO)</span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li><p>创建学生表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">  Sno   <span class=\"type\">char</span> ( <span class=\"number\">7</span> )  <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">  Sname <span class=\"type\">char</span> ( <span class=\"number\">10</span> ) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Ssex  <span class=\"type\">char</span> (<span class=\"number\">2</span>)  </span><br><span class=\"line\">        <span class=\"keyword\">CHECK</span> (Ssex <span class=\"operator\">=</span> <span class=\"string\">&#x27;男&#x27;</span> <span class=\"keyword\">OR</span> Ssex <span class=\"operator\">=</span> <span class=\"string\">&#x27;女&#x27;</span>), </span><br><span class=\"line\">  Sage  tinyint  </span><br><span class=\"line\">        <span class=\"keyword\">CHECK</span> (Sage <span class=\"operator\">&gt;=</span> <span class=\"number\">15</span> <span class=\"keyword\">AND</span> Sage <span class=\"operator\">&lt;=</span><span class=\"number\">45</span>),</span><br><span class=\"line\">  Sdept <span class=\"type\">char</span> (<span class=\"number\">20</span> ) <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;计算机系&#x27;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建课程表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Course (</span><br><span class=\"line\">  Cno    <span class=\"type\">char</span>(<span class=\"number\">10</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Cname  <span class=\"type\">char</span>(<span class=\"number\">20</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Ccredit  tinyint <span class=\"keyword\">CHECK</span> (Ccredit <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  Semester tinyint <span class=\"keyword\">CHECK</span> (Semester <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  <span class=\"keyword\">Period</span>  <span class=\"type\">int</span> <span class=\"keyword\">CHECK</span> (<span class=\"keyword\">Period</span> <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY(Cno) </span><br><span class=\"line\">) </span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建SC(Student-Course)表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> SC (</span><br><span class=\"line\">  Sno <span class=\"type\">char</span>(<span class=\"number\">7</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Cno <span class=\"type\">char</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Grade  tinyint,</span><br><span class=\"line\">      <span class=\"keyword\">CHECK</span> (Grade <span class=\"operator\">&gt;=</span> <span class=\"number\">0</span> <span class=\"keyword\">and</span> Grade <span class=\"operator\">&lt;=</span> <span class=\"number\">100</span>),</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY ( Sno, Cno ),</span><br><span class=\"line\">  <span class=\"keyword\">FOREIGN</span> KEY ( Sno )  </span><br><span class=\"line\">      <span class=\"keyword\">REFERENCES</span>  Student ( Sno ),</span><br><span class=\"line\">  <span class=\"keyword\">FOREIGN</span> KEY ( Cno )  </span><br><span class=\"line\">      <span class=\"keyword\">REFERENCES</span>  Course ( Cno ) </span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除表</p>\n</li>\n</ol>\n<ul>\n<li>当确信不再需要某个表时，可以将其删除</li>\n<li>删除表时会将与表有关的所有对象一起删掉，包括表中的数据。</li>\n<li>删除表的语句格式为：<br><code>DROP  TABLE  &lt;表名&gt;  &#123; [, &lt;表名&gt; ] … &#125;</code><br>例：<br>删除test表的语句为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">TABLE</span> test</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"修改表结构\"><a href=\"#修改表结构\" class=\"headerlink\" title=\"修改表结构\"></a>修改表结构</h3><ul>\n<li>在定义完表之后，如果需求有变化，比如添加列、删除列或修改列定义，可以使用ALTER TABLE语句实现。</li>\n<li>ALTER TABLE语句可以对表添加列、删除列、修改列的定义、定义主码、外码，也可以添加和删除约束。 </li>\n<li><strong>修改表结构语法</strong></li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span>  </span><br><span class=\"line\">  [ <span class=\"keyword\">ALTER</span> <span class=\"keyword\">COLUMN</span> <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span> <span class=\"operator\">&lt;</span>新数据类型<span class=\"operator\">&gt;</span>] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> [<span class=\"keyword\">COLUMN</span>] <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span> <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span> </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">DROP</span> <span class=\"keyword\">COLUMN</span> <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  ] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> <span class=\"keyword\">PRIMARY</span> KEY(列名 [，… n ] )] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> <span class=\"keyword\">FOREIGN</span> KEY(列名)</span><br><span class=\"line\">   REFERNECES 表名 (列名)]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>示例</strong><br>例2．为SC表添加“修课类别”列，此列的定义为：XKLB  char(4)<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ADD</span> XKLB <span class=\"type\">char</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NULL</span> </span><br></pre></td></tr></table></figure>\n例3．将新添加的XKLB的类型改为：char(6)。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ALTER</span> <span class=\"keyword\">COLUMN</span> XKLB <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br></pre></td></tr></table></figure>\n例4．删除Course表的Period列。 <figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> Course </span><br><span class=\"line\">  <span class=\"keyword\">DROP</span> <span class=\"keyword\">COLUMN</span> <span class=\"keyword\">Period</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"数据查询功能\"><a href=\"#数据查询功能\" class=\"headerlink\" title=\"数据查询功能\"></a>数据查询功能</h2><h3 id=\"查询语句的基本结构\"><a href=\"#查询语句的基本结构\" class=\"headerlink\" title=\"查询语句的基本结构\"></a>查询语句的基本结构</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">&lt;</span>目标列名序列<span class=\"operator\">&gt;</span>    <span class=\"comment\">--需要哪些列</span></span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> <span class=\"operator\">&lt;</span>数据源<span class=\"operator\">&gt;</span>              <span class=\"comment\">--来自于哪些表</span></span><br><span class=\"line\"> [<span class=\"keyword\">WHERE</span> <span class=\"operator\">&lt;</span>检索条件<span class=\"operator\">&gt;</span>]       <span class=\"comment\">--根据什么条件</span></span><br><span class=\"line\"> [<span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"operator\">&lt;</span>分组依据列<span class=\"operator\">&gt;</span>]      </span><br><span class=\"line\"> [<span class=\"keyword\">HAVING</span> <span class=\"operator\">&lt;</span>组提取条件<span class=\"operator\">&gt;</span>]</span><br><span class=\"line\"> [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> <span class=\"operator\">&lt;</span>排序依据列<span class=\"operator\">&gt;</span>] </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"简单查询\"><a href=\"#简单查询\" class=\"headerlink\" title=\"简单查询\"></a>简单查询</h3><h4 id=\"选择表中若干列\"><a href=\"#选择表中若干列\" class=\"headerlink\" title=\"选择表中若干列\"></a>选择表中若干列</h4><ol>\n<li><strong>查询指定的列</strong></li>\n</ol>\n<ul>\n<li>查询表中用户感兴趣的部分属性列。<br>例5：查询全体学生的学号与姓名。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno，Sname <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n例6：查询全体学生的姓名、学号和所在系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname，Sno，Sdept  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li>查询全部列<br>例7．查询全体学生的记录<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno，Sname，Ssex, Sage, Sdept </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n等价于：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  <span class=\"operator\">*</span>  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n<li>查询经过计算的列<br>例8．查询全体学生的姓名及其出生年份。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n例9．查询全体学生的姓名和出生年份所在系，并在出生年份列前加入一个列，此列的每行数据均为`出生年份`常量值。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname，`出生年份`, <span class=\"number\">2006</span><span class=\"operator\">-</span>Sage</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n<li>列别名(Alias)</li>\n</ol>\n<ul>\n<li><p>在 SELECT 语句中，你可以使用 <strong>列别名（Alias）</strong> 给查询结果的列起一个更直观的名称，方便阅读。</p>\n</li>\n<li><p>语法：<br><code>列名 | 表达式 [ AS ] 列标题</code><br>或：<br><code>列标题 = 列名 | 表达式</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">AS</span> 姓名, `<span class=\"keyword\">Year</span> <span class=\"keyword\">of</span> Birth` <span class=\"keyword\">AS</span> 出生年份, <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage <span class=\"keyword\">AS</span> 年份</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure>\n<p>或：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> 姓名 <span class=\"operator\">=</span> Sname, 出生年份 <span class=\"operator\">=</span> `<span class=\"keyword\">Year</span> <span class=\"keyword\">of</span> Birth`, 年份 <span class=\"operator\">=</span> <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"选择表中若干元组\"><a href=\"#选择表中若干元组\" class=\"headerlink\" title=\"选择表中若干元组\"></a>选择表中若干元组</h4><ol>\n<li>消除取值相同的记录<br>例10．在修课表中查询有哪些学生修了课程，要求列出学生的学号。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  Sno  <span class=\"keyword\">FROM</span>  SC</span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>结果中有重复的行。</li>\n<li>用DISTINCT关键字可以去掉结果中的重复行。</li>\n<li>DISTINCT关键字放在SELECT词的后边、目标列名序列的前边。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  <span class=\"keyword\">DISTINCT</span>  Sno  <span class=\"keyword\">FROM</span>  SC</span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li><p>查询满足条件的元组 </p>\n<img src=\"/articles/7de3dde6/查询元组.png\" width=70% height=70% />\n</li>\n<li><p>比较大小<br>例11．查询计算机系全体学生的姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;计算机系&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例12．查询年龄在20岁以下的学生的姓名及年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sage <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"operator\">&lt;</span> <span class=\"number\">20</span></span><br></pre></td></tr></table></figure>\n<p>例13．查询考试成绩有不及格的学生的学号</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> Sno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"operator\">&lt;</span> <span class=\"number\">60</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>确定范围</p>\n</li>\n</ol>\n<ul>\n<li><p>用<code>BETWEEN…AND</code>和<code>NOT BETWEEN…AND</code></p>\n</li>\n<li><p>是逻辑运算符，可以用来查找属性值在或不在指定范围内的元组，其中<strong>BETWEEN</strong>后边指定范围的<strong>下限</strong>，<strong>AND</strong>后边指定范围的<strong>上限</strong>。</p>\n</li>\n<li><p>BETWEEN…AND…的格式为：<br><code>列名 | 表达式 [ NOT ] BETWEEN 下限值 AND 上限值</code></p>\n</li>\n<li><p>如果列或表达式的值[在&#x2F;不在]下限值和上限值范围内，则结果为True，表明此记录符合查询条件。  </p>\n</li>\n<li><p>示例<br>例14．查询年龄在20～23岁之间的学生的姓名、所在系和年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept, Sage  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"keyword\">BETWEEN</span> <span class=\"number\">20</span> <span class=\"keyword\">AND</span> <span class=\"number\">23</span></span><br></pre></td></tr></table></figure>\n<p>例15．查询年龄不在20～23之间的学生姓名、所在系和年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept, Sage  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"keyword\">NOT</span> <span class=\"keyword\">BETWEEN</span> <span class=\"number\">20</span> <span class=\"keyword\">AND</span> <span class=\"number\">23</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"5\">\n<li>确定集合</li>\n</ol>\n<ul>\n<li><p>使用IN运算符。</p>\n</li>\n<li><p>用来查找属性值属于指定集合的元组。</p>\n</li>\n<li><p>格式为：<br><code>列名 [ NOT ] IN （常量1, 常量2, … 常量n）</code></p>\n</li>\n<li><p>当列中的值与IN中的某个常量值相等时，则结果为True，表明此记录为符合查询条件的记录；</p>\n</li>\n<li><p>NOT IN：当列中的值与某个常量值相同时，则结果为False，表明此记录为不符合查询条件的记录</p>\n</li>\n<li><p>示例<br>例16．查询信息系、数学系和计算机系学生的姓名和性别。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Ssex  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span> (<span class=\"string\">&#x27;信息系&#x27;</span>, <span class=\"string\">&#x27;数学系&#x27;</span>, <span class=\"string\">&#x27;计算机系&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p>例17．查询既不是信息系、数学系，也不是计算机系学生的姓名和性别。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Ssex  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">NOT</span> <span class=\"keyword\">IN</span> (<span class=\"string\">&#x27;信息系&#x27;</span>, <span class=\"string\">&#x27;数学系&#x27;</span>, <span class=\"string\">&#x27;计算机系&#x27;</span>)</span><br></pre></td></tr></table></figure></li>\n<li><p>使用LIKE运算符</p>\n</li>\n<li><p>一般形式为：<br><code>列名  [NOT]  LIKE  &lt;匹配串&gt;</code></p>\n</li>\n<li><p>匹配串中可包含如下四种通配符：</p>\n<ul>\n<li>_：匹配任意一个字符；</li>\n<li>%：匹配0个或多个字符；</li>\n<li>[ ]：匹配[ ]中的任意一个字符；</li>\n<li>[ ^ ]：不匹配[ ]中的任意一个字符 <blockquote>\n<p><strong>例：</strong>[^0-9]匹配任何不是数字的字符。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>示例<br>例18．查询姓‘张’的学生的详细信息。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;张%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例19．查询学生表中姓‘张’、‘李’和‘刘’的学生的情况。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; [张李刘]%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例20．查询名字中第2个字为‘小’或‘大’的学生的姓名和学号</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sno <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;_[小大]%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例21．查询所有不姓“刘”的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">NOT</span> <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;刘%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例22．查询学号的最后一位不是2、3、5的学生情况。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;%[^235]&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n<li><p>空值（NULL）在数据库中表示不确定的值。</p>\n</li>\n<li><p>例如，学生选修课程后还没有考试时，这些学生有选课记录，但没有考试成绩，因此考试成绩为空值。</p>\n</li>\n<li><p><strong>判断某个值是否为NULL值，不能使用普通的比较运算符。</strong></p>\n</li>\n<li><p>判断取值为空的语句格式为：<br><code>列名 IS NULL</code></p>\n</li>\n<li><p>判断取值不为空的语句格式为：<br><code>列名 IS NOT NULL</code><br>例23．查询无考试成绩的学生的学号和相应的课程号。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Cno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"keyword\">IS</span> <span class=\"keyword\">NULL</span></span><br></pre></td></tr></table></figure>\n<p>例24．查询所有有考试成绩的学生的学号和课程号。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Cno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"keyword\">IS</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> </span><br></pre></td></tr></table></figure></li>\n<li><p>在<code>WHERE</code>子句中可以使用逻辑运算符<code>AND</code>和<code>OR</code>来组成多条件查询。</p>\n<ul>\n<li>用<code>AND</code>连接的条件表示必须全部满足所有的条件的结果才为<code>True</code>；</li>\n<li>用<code>OR</code>连接的条件表示只要满足其中一个条件结果即为<code>True</code>。<blockquote>\n<p>AND 的优先级高于 OR。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>例25．查询计算机系年龄在20岁以下的学生姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;CS&#x27;</span> <span class=\"keyword\">AND</span> Sage <span class=\"operator\">&lt;</span> <span class=\"number\">20</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"对查询结果进行排序\"><a href=\"#对查询结果进行排序\" class=\"headerlink\" title=\"对查询结果进行排序\"></a>对查询结果进行排序</h4><ul>\n<li>可对查询结果进行排序。 </li>\n<li>排序子句为：<br><code>ORDER BY &lt;列名&gt; [ASC | DESC ] [,&lt;列名&gt; … ]</code></li>\n<li>说明：按&lt;列名&gt;进行升序（ASC）或降序（DESC）排序。</li>\n<li>示例<br>例26．将学生按年龄的升序排序。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Sage</span><br></pre></td></tr></table></figure>\n例27．查询选修了‘c02’号课程的学生的学号及其成绩，查询结果按成绩降序排列。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Grade <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;c02&#x27;</span> <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Grade <span class=\"keyword\">DESC</span></span><br></pre></td></tr></table></figure>\n例28．查询全体学生的信息，查询结果按所在系的系名升序排列，同一系的学生按年龄降序排列。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Sdept, Sage <span class=\"keyword\">DESC</span>  </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"使用计算函数汇总数据\"><a href=\"#使用计算函数汇总数据\" class=\"headerlink\" title=\"使用计算函数汇总数据\"></a>使用计算函数汇总数据</h4><ul>\n<li>SQL提供的计算函数有：<ul>\n<li>COUNT（ * ）：统计表中元组个数；</li>\n<li>COUNT（[DISTINCT] &lt;列名&gt; ）：统计本列列值个数；</li>\n<li>SUM（[DISTINCT] &lt;列名&gt; ）：计算列值总和；</li>\n<li>AVG（[DISTINCT] &lt;列名&gt; ）：计算列值平均值；</li>\n<li>MAX（[DISTINCT] &lt;列名&gt; ）：求列值最大值； </li>\n<li>MIN（[DISTINCT] &lt;列名&gt; ）：求列值最小值。</li>\n</ul>\n</li>\n<li>上述函数中除COUNT（*）外，其他函数在计算过程中均忽略NULL值。</li>\n<li>示例<br>例29．统计学生总人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure>\n例30．统计选修了课程的学生的人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">COUNT</span>(<span class=\"keyword\">DISTINCT</span> Sno)</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC</span><br></pre></td></tr></table></figure>\n例31．计算9512101号学生的考试总成绩之和。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">SUM</span>(Grade) <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> <span class=\"string\">&#x27;9512101&#x27;</span> </span><br></pre></td></tr></table></figure>\n例32．计算’C01’号课程学生的考试平均成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>\n例33．查询选修了’C01’号课程的学生的最高分和最低分。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">MAX</span>(Grade) , <span class=\"built_in\">MIN</span>(Grade)  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>注意：</strong>计算函数不能出现在WHERE子句中</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"对查询结果进行分组计算\"><a href=\"#对查询结果进行分组计算\" class=\"headerlink\" title=\"对查询结果进行分组计算\"></a>对查询结果进行分组计算</h4><ul>\n<li>作用：可以控制计算的级别：对全表还是对一组。</li>\n<li>目的：细化计算函数的作用对象。</li>\n<li>分组语句的一般形式：<ul>\n<li>[GROUP BY &lt;分组条件&gt;] </li>\n<li>[HAVING &lt;组过滤条件&gt;]</li>\n</ul>\n</li>\n</ul>\n<ol>\n<li>使用GROUP BY<br>例34．统计每门课程的选课人数，列出课程号和人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Cno <span class=\"keyword\">as</span> 课程号, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(Sno) <span class=\"keyword\">as</span> 选课人数 </span><br><span class=\"line\"><span class=\"keyword\">FROM</span> SC <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Cno </span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>对查询结果按Cno的值分组，所有具有相同Cno值的元组为一组，然后再对每一组使用COUNT计算，求得每组的学生人数。<img src=\"/articles/7de3dde6/group_by.png\" width=70% height=70% />\n例35．查询每名学生的选课门数和平均成绩。\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">as</span> 学号, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> 选课门数, </span><br><span class=\"line\">  <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">as</span> 平均成绩 </span><br><span class=\"line\"><span class=\"keyword\">FROM</span> SC <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno</span><br></pre></td></tr></table></figure></li>\n<li><strong>HAVING</strong>用于对分组自身进行限制，它有点像WHERE子句，但它<strong>用于组而不是对单个记录</strong>。<br>例36．查询修了3门以上课程的学生的学号<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno</span><br><span class=\"line\">  <span class=\"keyword\">HAVING</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;</span> <span class=\"number\">3</span> </span><br></pre></td></tr></table></figure></li>\n<li>示例<br>例37．查询修课门数等于或大于4门的学生的平均成绩和选课门数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, <span class=\"built_in\">AVG</span>(Grade) 平均成绩, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) 修课门数</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno </span><br><span class=\"line\">  <span class=\"keyword\">HAVING</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;=</span> <span class=\"number\">4</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"多表连接查询\"><a href=\"#多表连接查询\" class=\"headerlink\" title=\"多表连接查询\"></a>多表连接查询</h3><ul>\n<li><p>若一个查询同时涉及两个或两个以上的表，则称之为连接查询。</p>\n</li>\n<li><p>连接查询是关系数据库中最主要的查询。</p>\n</li>\n<li><p>连接查询包括内连接、外连接和交叉连接等。</p>\n</li>\n<li><p>连接查询中用于连接两个表的条件称为连接条件或连接谓词。 </p>\n</li>\n<li><p>一般格式为：<br><code>[&lt;表名1.&gt;][&lt;列名1&gt;] &lt;比较运算符&gt; [&lt;表名2.&gt;][&lt;列名2&gt;]</code></p>\n</li>\n<li><p><strong>内连接</strong></p>\n</li>\n<li><p>SQL-92 内连接语法如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> …</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">INNER</span>] <span class=\"keyword\">JOIN</span></span><br><span class=\"line\">  被连接表</span><br><span class=\"line\">  <span class=\"keyword\">ON</span>  连接条件</span><br></pre></td></tr></table></figure></li>\n<li><p>执行连接操作的过程：</p>\n<ul>\n<li>首先取表1中的第1个元组，然后从头开始扫描表2，逐一查找满足连接条件的元组，</li>\n<li>找到后就将表1中的第1个元组与该元组拼接起来，形成结果表中的一个元组。</li>\n<li>表2全部查找完毕后，再取表1中的第2个元组，然后再从头开始扫描表2， …</li>\n<li>重复这个过程，直到表1中的全部元组都处理完毕为止。<br>例40.查询计算机系学生的修课情况，要求列出学生的名字、所修课的课程号和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Cno, Grade </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">JOIN</span> SC  </span><br><span class=\"line\">  <span class=\"keyword\">ON</span> Student.Sno <span class=\"operator\">=</span> SC.Sno</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;计算机系&#x27;</span> </span><br></pre></td></tr></table></figure>\n例41. 查询信息系修了VB课程的学生的修课成绩，要求列出学生姓名、课程名和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Cname, Grade</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span>  Student  s  <span class=\"keyword\">JOIN</span>  SC </span><br><span class=\"line\">  <span class=\"keyword\">ON</span> s.Sno <span class=\"operator\">=</span> SC. Sno</span><br><span class=\"line\">  <span class=\"keyword\">JOIN</span>  Course c <span class=\"keyword\">ON</span> c.Cno <span class=\"operator\">=</span> SC.Cno</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;信息系&#x27;</span> </span><br><span class=\"line\">        <span class=\"keyword\">AND</span> Cname <span class=\"operator\">=</span> <span class=\"string\">&#x27;VB&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>自连接</strong></p>\n<ul>\n<li>为特殊的内连接</li>\n<li>相互连接的表物理上为同一张表。</li>\n<li>必须为两个表取别名，使之在逻辑上成为两个表。<br>例43. 查询与刘晨在同一个系学习的学生的姓名和所在的系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> S2.Sname, S2.Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student S1 <span class=\"keyword\">JOIN</span> Student S2</span><br><span class=\"line\">  <span class=\"keyword\">ON</span> S1.Sdept <span class=\"operator\">=</span> S2.Sdept</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> S1.Sname <span class=\"operator\">=</span> ‘刘晨’</span><br><span class=\"line\">  <span class=\"keyword\">AND</span> S2.Sname <span class=\"operator\">!=</span> ‘刘晨’</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>外连接</strong></p>\n<ul>\n<li>只限制一张表中的数据必须满足连接条件，而另一张表中数据可以不满足连接条件。 </li>\n<li>ANSI方式的外连接的语法格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>  <span class=\"keyword\">LEFT</span> <span class=\"operator\">|</span> <span class=\"keyword\">RIGHT</span>  [<span class=\"keyword\">OUTER</span>]  </span><br><span class=\"line\">  <span class=\"keyword\">JOIN</span>  表<span class=\"number\">2</span>  <span class=\"keyword\">ON</span>  <span class=\"operator\">&lt;</span>连接条件<span class=\"operator\">&gt;</span> </span><br></pre></td></tr></table></figure></li>\n<li>theta方式的外连接的语法格式为：<br>左外连接：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>, 表<span class=\"number\">2</span>  <span class=\"keyword\">WHERE</span> [表<span class=\"number\">1.</span>]列名(<span class=\"operator\">+</span>) ＝ [表<span class=\"number\">2.</span>]列名</span><br></pre></td></tr></table></figure>\n右外连接：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>, 表<span class=\"number\">2</span>  <span class=\"keyword\">WHERE</span> [表<span class=\"number\">1.</span>]列名＝ [表<span class=\"number\">2.</span>]列名(<span class=\"operator\">+</span>) </span><br></pre></td></tr></table></figure>\n例44. 查询学生的修课情况，包括修了课程的学生和没有修课的学生。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Student.Sno, Sname, Cno, Grade</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">LEFT</span> <span class=\"keyword\">OUTER</span> <span class=\"keyword\">JOIN</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ON</span> Student.Sno <span class=\"operator\">=</span> SC.Sno </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"子查询\"><a href=\"#子查询\" class=\"headerlink\" title=\"子查询\"></a>子查询</h3><ul>\n<li><p>在SQL语言中，一个SELECT－FROM－WHERE语句称为一个查询块。</p>\n</li>\n<li><p>子查询是一个 SELECT 查询，它嵌套在 SELECT、INSERT、UPDATE、DELETE 语句的 WHERE 或 HAVING 子句内，或其它子查询中 </p>\n</li>\n<li><p>子查询的 SELECT 查询总是使用圆括号括起来。</p>\n</li>\n<li><p>使用子查询进行基于集合的测试的语句的一般格式为：<br><code>列名 [NOT] IN (子查询) </code></p>\n</li>\n<li><p>示例<br>例45. 查询与刘晨在同一个系的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname, Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sdept <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sname <span class=\"operator\">=</span> ‘刘晨’ )</span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Sname <span class=\"operator\">!=</span> ‘刘晨’ </span><br></pre></td></tr></table></figure>\n<p>例45. 查询与刘晨在同一个系的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname, Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sdept <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sname <span class=\"operator\">=</span> ‘刘晨’ )</span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Sname <span class=\"operator\">!=</span> ‘刘晨’ </span><br></pre></td></tr></table></figure>\n<p>例47. 查询选修了“数据库基础”课程的学生的学号、姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Cno <span class=\"keyword\">IN</span></span><br><span class=\"line\">      ( <span class=\"keyword\">SELECT</span> Cno <span class=\"keyword\">FROM</span> Course</span><br><span class=\"line\">        <span class=\"keyword\">WHERE</span> Cname <span class=\"operator\">=</span> <span class=\"string\">&#x27;数据库基础&#x27;</span>) ) </span><br></pre></td></tr></table></figure></li>\n<li><p><strong>使用子查询进行比较测试</strong></p>\n<ul>\n<li>带比较运算符的子查询指父查询与子查询之间用比较运算符连接，</li>\n<li>当用户能确切知道内层查询返回的是单值时，可用&gt;、&lt;、&#x3D;、&gt;&#x3D;、&lt;&#x3D;、&lt;&gt;运算符。<br>例48. 查询修了‘c02’课程且成绩高于此课程的平均成绩的学生的学号和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno , Grade <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">   <span class=\"keyword\">WHERE</span> Cno <span class=\"operator\">=</span> `c02`</span><br><span class=\"line\">   <span class=\"keyword\">and</span> Grade <span class=\"operator\">&gt;</span> (</span><br><span class=\"line\">     <span class=\"keyword\">SELECT</span> <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">from</span> SC </span><br><span class=\"line\">        <span class=\"keyword\">WHERE</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c02&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>使用子查询进行存在性测试</strong></p>\n<ul>\n<li>一般使用EXISTS谓词。</li>\n<li><strong>带EXISTS谓词的子查询不返回查询的数据，只产生逻辑真值（有数据）和假值（没有数据）。</strong><br>例49.查询选修了‘c01’号课程的学生姓名。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> <span class=\"keyword\">EXISTS</span></span><br><span class=\"line\">    (<span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> Student.Sno              </span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c01&#x27;</span>) </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>注1：</strong>处理过程为：先外后内；由外层的值决定内层的结果；内层执行次数由外层结果数决定。<br><strong>注2：</strong>由于EXISTS的子查询只能返回真或假值，因此在这里给出列名无意义。所以在有EXISTS的子查询中，其目标列表达式通常都用*。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p><strong>上句的处理过程</strong></p>\n</li>\n</ul>\n<ol>\n<li>找外层表Student表的第一行，根据其Sno值处理内层查询</li>\n<li>由外层的值与内层的结果比较，由此决定外层条件的真、假</li>\n<li>顺序处理外层表Student表中的第2、3、…行。<br>例50.查询没有选修‘c01’号课程的学生姓名和所在系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span></span><br><span class=\"line\">    (<span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> Student.Sno </span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c01&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"数据更改功能\"><a href=\"#数据更改功能\" class=\"headerlink\" title=\"数据更改功能\"></a>数据更改功能</h2><h3 id=\"插入数据\"><a href=\"#插入数据\" class=\"headerlink\" title=\"插入数据\"></a>插入数据</h3><ul>\n<li>插入单行记录的INSERT语句的格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span> [(<span class=\"operator\">&lt;</span>列名表<span class=\"operator\">&gt;</span>)] </span><br><span class=\"line\">  <span class=\"keyword\">VALUES</span> （值表）</span><br></pre></td></tr></table></figure></li>\n<li><strong>功能：</strong>新增一个符合表结构的数据行，将值表数据按表中列定义顺序[或列名表顺序]赋给对应列名。</li>\n<li><strong>注意：</strong>值列表中的值与列名表中的列按位置顺序对应，它们的数据类型必须一致。</li>\n<li>如果&lt;表名&gt;后边没有指明列名，则新插入记录的值的顺序必须与表中列的定义顺序一致，且每一个列均有值（可以为空）。</li>\n<li><strong>示例</strong><br>例51．将新生记录（95020，陈冬，男，信息系，18岁）插入到Student表中。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> Student </span><br><span class=\"line\">    <span class=\"keyword\">VALUES</span> (<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;陈冬&#x27;</span>, <span class=\"string\">&#x27;男&#x27;</span>, <span class=\"number\">18</span>, <span class=\"string\">&#x27;信息系&#x27;</span>)</span><br></pre></td></tr></table></figure>\n例52．在SC表中插入一新记录，成绩暂缺。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> SC(Sno, Cno, XKLB) </span><br><span class=\"line\">    <span class=\"keyword\">VALUES</span>(<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;c01&#x27;</span>, <span class=\"string\">&#x27;必修&#x27;</span>) </span><br></pre></td></tr></table></figure>\n实际插入的值为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;c01&#x27;</span> ，<span class=\"keyword\">NULL</span> ，<span class=\"string\">&#x27;必修&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"更新数据\"><a href=\"#更新数据\" class=\"headerlink\" title=\"更新数据\"></a>更新数据</h3><ul>\n<li><p>用UPDATE语句实现。</p>\n</li>\n<li><p>格式：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span> </span><br><span class=\"line\">  <span class=\"keyword\">SET</span> <span class=\"operator\">&lt;</span>列名＝表达式<span class=\"operator\">&gt;</span> [,… n]</span><br><span class=\"line\">  [<span class=\"keyword\">WHERE</span> <span class=\"operator\">&lt;</span>更新条件<span class=\"operator\">&gt;</span>]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>无条件更新</strong><br>例53. 将所有学生的年龄加1。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">SET</span> Sage <span class=\"operator\">=</span> Sage <span class=\"operator\">+</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure></li>\n<li><p><strong>有条件更新</strong></p>\n</li>\n</ul>\n<ol>\n<li>基于本表条件的更新<br>例54. 将‘9512101’学生的年龄改为21岁<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> Student <span class=\"keyword\">SET</span> Sage <span class=\"operator\">=</span> <span class=\"number\">21</span></span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> <span class=\"string\">&#x27;9512101&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"删除数据\"><a href=\"#删除数据\" class=\"headerlink\" title=\"删除数据\"></a>删除数据</h3><h2 id=\"建立与删除索引\"><a href=\"#建立与删除索引\" class=\"headerlink\" title=\"建立与删除索引\"></a>建立与删除索引</h2>","more":"<h1 id=\"第三章-关系数据库\"><a href=\"#第三章-关系数据库\" class=\"headerlink\" title=\"第三章 关系数据库\"></a>第三章 关系数据库</h1><h2 id=\"关系模型概述\"><a href=\"#关系模型概述\" class=\"headerlink\" title=\"关系模型概述\"></a>关系模型概述</h2><h3 id=\"关系数据结构\"><a href=\"#关系数据结构\" class=\"headerlink\" title=\"关系数据结构\"></a>关系数据结构</h3><ul>\n<li>关系数据<u>模型</u>源于<u>数学</u>。</li>\n<li>用<strong>二维表</strong>来组织数据，这个二维表在关系数据库中就称为<strong>关系</strong>。</li>\n<li>关系数据库就是<u><strong>表</strong>或者说是<strong>关系</strong></u>的<strong>集合</strong>。</li>\n<li>关系系统要求让用户所感觉的数据库就是<u>一张张表</u>。</li>\n<li>在关系系统中，表是<strong>逻辑结构</strong>而不是物理结构。</li>\n</ul>\n<h3 id=\"关系操作\"><a href=\"#关系操作\" class=\"headerlink\" title=\"关系操作\"></a>关系操作</h3><h4 id=\"传统的关系运算\"><a href=\"#传统的关系运算\" class=\"headerlink\" title=\"传统的关系运算\"></a>传统的关系运算</h4><ul>\n<li><p><strong>并（Union）</strong></p>\n</li>\n<li><p><strong>交（Intersection）</strong></p>\n</li>\n<li><p><strong>差（Difference）</strong></p>\n</li>\n<li><p><strong>广义笛卡尔乘积（Extended Cartesian Product）</strong></p>\n</li>\n</ul>\n<h4 id=\"专门的关系运算\"><a href=\"#专门的关系运算\" class=\"headerlink\" title=\"专门的关系运算\"></a>专门的关系运算</h4><ul>\n<li><strong>选择（Select）</strong></li>\n<li><strong>投影（Project）</strong></li>\n<li><strong>连接（Join）</strong></li>\n<li><strong>除（Divide）</strong></li>\n</ul>\n<h3 id=\"关系模型的数据操作\"><a href=\"#关系模型的数据操作\" class=\"headerlink\" title=\"关系模型的数据操作\"></a>关系模型的数据操作</h3><ul>\n<li>主要包括：<u><strong>查询</strong>、<strong>插入</strong>、<strong>删除</strong>和<strong>修改</strong>数据</u>。</li>\n<li>是基于<strong>集合</strong>的操作，操作对象和操作结果都是<strong>集合（或关系）</strong>。</li>\n<li>是<strong>非过程化</strong>的。 <blockquote>\n<p>关系模型的数据操作<strong>非过程化</strong>是指在关系型数据库管理系统（RDBMS）中进行数据操作时，<strong>用户无需关心数据操作的具体实现过程，而只需要描述需要操作的数据和所期望的结果。</strong>这种方式与过程化操作（例如编写详细的操作步骤和控制流）有所不同，强调的是“做什么”而不是“如何做”。</p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"数据完整性约束\"><a href=\"#数据完整性约束\" class=\"headerlink\" title=\"数据完整性约束\"></a>数据完整性约束</h3><ul>\n<li>数据完整性是指<u>数据库中存储的<strong>数据</strong>是<strong>有意义的</strong>或<strong>正确的</strong></u>。</li>\n<li>主要包括三大类：<ul>\n<li><strong>实体完整性</strong></li>\n<li><strong>参照完整性</strong></li>\n<li><strong>用户定义的完整性</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"关系数据模型的基本术语与形式化定义\"><a href=\"#关系数据模型的基本术语与形式化定义\" class=\"headerlink\" title=\"关系数据模型的基本术语与形式化定义\"></a>关系数据模型的基本术语与形式化定义</h2><h3 id=\"关系数据模型的基本术语\"><a href=\"#关系数据模型的基本术语\" class=\"headerlink\" title=\"关系数据模型的基本术语\"></a>关系数据模型的基本术语</h3><ul>\n<li><strong>关系：</strong>关系就是二维表。并满足如下性质：<ul>\n<li>关系表中的每一列都是<u>不可再分</u>的基本属性；</li>\n<li>表中的<u>行、列次序并不重要</u>。</li>\n</ul>\n</li>\n<li><strong>属性：</strong>表中的每一<u>列</u>是一个属性值集，列可以命名，称为属性名。</li>\n<li><strong>值域：</strong>属性的取值范围 。如，性别只能是‘男’和‘女’两个值。</li>\n<li><strong>元组：</strong>表中的每一<u>行</u>称作是一个元组，它相当于一个记录值。</li>\n<li><strong>分量：</strong>元组中的每一个<u>属性值</u>称为元组的一个分量，n元关系的每个元组有n个分量。</li>\n<li><strong>关系模式：</strong>关系模式是<u><strong>关系的“型”</strong></u>或<u><strong>元组的结构共性的描述</strong></u>。关系模式实际上对应关系表的表头。设关系名为R，属性分别为A1，A2，…，An，则关系模式可以表示为：R（A1，A2，…，An） </li>\n<li><strong>关系数据库：</strong>对应于一个<u>关系模型</u>的<u>所有关系的集合</u>称为关系数据库。</li>\n<li><strong>候选码：</strong>能够唯一标识关系中的一个元组的<u><strong>一个属性</strong>或<strong>最小属性组</strong></u>。 </li>\n<li><strong>主码：</strong>指定候选码中的一个作为主码。</li>\n<li><strong>主属性：</strong>包含在任一候选码中的属性称为是主属性。</li>\n<li><strong>非主属性：</strong>不包含在任一候选码中的属性称为是非主属性。</li>\n<li><strong>外码：</strong>如果某个属性不一定是所在关系的码，但是其他关系的码，则称该属性为外码。</li>\n</ul>\n<h3 id=\"关系数据结构及其形式化定义\"><a href=\"#关系数据结构及其形式化定义\" class=\"headerlink\" title=\"关系数据结构及其形式化定义\"></a>关系数据结构及其形式化定义</h3><ol>\n<li><strong>关系的形式化定义</strong></li>\n</ol>\n<ul>\n<li><p><strong>笛卡尔积：</strong>设<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>为任意集合，定义笛卡尔积<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>为：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub><mo>×</mo><mo>…</mo><mo>×</mo><msub><mi>D</mi><mi>n</mi></msub><mo>=</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>d</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>D</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><mi>n</mi></mrow></mrow><annotation encoding=\"application/x-tex\">D_1 × D_2 × … × D_n = {(d_1, d_2, \\cdots, d_n) | d_i ∈ D_i, i = 1, 2, \\cdots, n }</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 其中每一个元素<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(d_1,d_2, \\cdots, d_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>称为一个n元组，简称元组。元组中每一个<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>称为是一个分量。 </p>\n  <img src=\"/articles/7de3dde6/Cartesian.png\" width=70% height=70% /></li>\n<li><p>笛卡尔积<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的任意一个子集称为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_1, D_2, \\cdots, D_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>上的一个n元关系。</p>\n<blockquote>\n<p>首先，笛卡尔积是指两个或多个集合之间的运算。给定集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>𝐷</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>𝐷</mi><mi>𝑛</mi></msub></mrow><annotation encoding=\"application/x-tex\">𝐷_1, 𝐷_2, \\cdots, 𝐷_𝑛</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ，它们的笛卡尔积表示的是所有可能的有序元组，每个元组的第 𝑖 个元素来自于集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mi>𝑖</mi></msub></mrow><annotation encoding=\"application/x-tex\">𝐷_𝑖</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 。数学上，笛卡尔积可以表示为：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>𝐷</mi><mn>1</mn></msub><mo>×</mo><msub><mi>𝐷</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>𝐷</mi><mi>𝑛</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><msub><mi>𝑑</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>𝑑</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>𝑑</mi><mi>𝑛</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>𝑑</mi><mi>𝑖</mi></msub><mo>∈</mo><msub><mi>𝐷</mi><mi>𝑖</mi></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∀</mi><mi>𝑖</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">𝐷_1 × 𝐷_2 × \\cdots × 𝐷_𝑛 = \\{(𝑑_1, 𝑑_2, \\cdots, 𝑑_𝑛)∣𝑑_𝑖 ∈ 𝐷_𝑖, ∀𝑖\\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∣</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">}</span></span></span></span> .  例如，如果<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">}</mo><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">D_1 = \\{1,2\\}, D_2 = \\{a, b\\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">}</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">}</span></span></span></span>，那么它们的笛卡尔积就是所有可能的有序元组：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">D_1 × D_2 = \\{(1,a),(1,b),(2,a),(2,b)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)}</span></span></span></span>.<br>一个n元关系是指从一个笛卡尔积中选出的一个子集。例如，在上面的笛卡尔积中，一个子集如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{(1,a),(2,b)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)}</span></span></span></span>就是一个2元关系，表示了来自集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的某些特定组合。</p>\n</blockquote>\n</li>\n<li><p>形式化的关系定义同样可以把关系看成二维表，给表的每个列取一个名字，称为属性。</p>\n</li>\n<li><p>n元关系有n个属性，一个关系中的属性的名字必须是唯一的。</p>\n</li>\n<li><p>属性<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的取值范围（i＝1，2，…，n）称为该属性的值域（domain）。 </p>\n</li>\n<li><p>从集合论的观点也可以将关系定义为：关系是一个有K个属性的元组的集合。</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>对关系的限定</li>\n</ol>\n<ul>\n<li>关系中的每个分量都必须是<u>不可再分</u>的最小数据项。 </li>\n<li>表中列的数据类型是固定的，即<u>每个列</u>中的分量是<u>同类项</u>的数据，来自相同的值域。 </li>\n<li><u>不同的列的数据可以取自相同的值域</u>，每个列称为一个属性，每个属性有不同的属性名。 </li>\n<li>关系表中行、列的顺序不重要 。</li>\n<li><strong>同一个关系中元组不能重复</strong>。</li>\n</ul>\n<h2 id=\"关系模型的完整性约束\"><a href=\"#关系模型的完整性约束\" class=\"headerlink\" title=\"关系模型的完整性约束\"></a>关系模型的完整性约束</h2><h3 id=\"实体完整性\"><a href=\"#实体完整性\" class=\"headerlink\" title=\"实体完整性\"></a>实体完整性</h3><ul>\n<li>实体完整性是保证关系中的<strong>每个元组</strong>都是<strong>可识别的</strong>和<strong>唯一的</strong>。 </li>\n<li>而且表中不允许存在如下的记录：<ul>\n<li><strong>无主码值</strong>的记录</li>\n<li><strong>主码值相同</strong>的记录</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"参照完整性\"><a href=\"#参照完整性\" class=\"headerlink\" title=\"参照完整性\"></a>参照完整性</h3><ul>\n<li><p>用于描述<strong>实体</strong>之间的联系。</p>\n<blockquote>\n<p><strong>实体与表：</strong>在关系型数据库中，<strong>表</strong>用来存储<strong>实体</strong>的<strong>实例</strong>，表中的每一行是实体的一个实例（例如一个学生），每一列是实体的一个属性（例如学生的姓名、学号等）。<br><strong>在很多情况下，一个实体可以被映射为一张表，</strong>这种映射关系是数据库设计中的常见做法。具体来说：</p>\n</blockquote>\n<ul>\n<li>实体的每个属性通常对应表中的一个字段（列）。</li>\n<li>实体的每个实例通常对应表中的一行（记录）。</li>\n<li>实体的主键通常对应表中的唯一标识字段（通常是主键）。</li>\n</ul>\n</li>\n<li><p>参照完整性一般是指多个实体（表）之间的关联关系。 </p>\n</li>\n<li><p>一般用<u>外码</u>实现。</p>\n</li>\n<li><p><strong>外码：</strong>取作本表（子表）属性之一的外表（父表，主表）主码。</p>\n</li>\n<li><p><strong>主码值先在主表中生成，后在子表中引用。</strong></p>\n</li>\n<li><p><strong>外码引用例：</strong></p>\n<img src=\"/articles/7de3dde6/waima1.png\" width=70% height=70% />\n<img src=\"/articles/7de3dde6/waima2.png\" width=70% height=70% />\n<img src=\"/articles/7de3dde6/waima3.png\" width=70% height=70% />\n</li>\n<li><p>参照完整性规则就是定义外码与主码之间的引用规则。</p>\n</li>\n<li><p>对于外码，一般应符合如下要求：</p>\n<ul>\n<li>或者值为空；</li>\n<li>或者等于其所应用的关系中的某个元组的主码值。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"用户定义的完整性\"><a href=\"#用户定义的完整性\" class=\"headerlink\" title=\"用户定义的完整性\"></a>用户定义的完整性</h3><ul>\n<li>按<u>应用语义</u>，属性数据有：<ul>\n<li>类型与长度限制：方便计算机操作</li>\n<li>取值范围限制：<u>防止属性值与应用语义矛盾</u></li>\n<li><strong>语义许可取值范围约束例：</strong><ul>\n<li>成绩取<ol>\n<li>[0 .. 100],</li>\n<li>{优、良、中、及格、不及格}</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"关系代数\"><a href=\"#关系代数\" class=\"headerlink\" title=\"关系代数\"></a>关系代数</h2><ul>\n<li>关系模型源于数学，关系是由元组构成的集合，可以通过关系的运算来表达查询要求。</li>\n<li>关系代数是关系操作语言的一种传统的表示方式，它是一种抽象的查询语言。</li>\n<li>关系代数的运算可分为两大类：<ul>\n<li>传统的集合运算：广义笛卡尔积运算、并、交和差运算。</li>\n<li>专门的关系运算：选择、投影、连接和除运算。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"关系运算符\"><a href=\"#关系运算符\" class=\"headerlink\" title=\"关系运算符\"></a>关系运算符</h3><img src=\"/articles/7de3dde6/关系运算符1.png\" width=70% height=70% /> \n<img src=\"/articles/7de3dde6/关系运算符2.png\" width=70% height=70% /> \n\n<h3 id=\"传统的集合运算\"><a href=\"#传统的集合运算\" class=\"headerlink\" title=\"传统的集合运算\"></a>传统的集合运算</h3><ul>\n<li><p>传统的集合运算是二目运算，</p>\n<blockquote>\n<p><strong>二目运算</strong>指的是一个操作需要两个输入值的运算，这些输入值可以是数字、布尔值或其他类型的数据。</p>\n</blockquote>\n</li>\n<li><p>设关系R和S均是n元关系，且<strong>相应的属性值取自同一个值域</strong>，则可以定义三种运算：</p>\n<ul>\n<li><strong>并运算（∪）</strong><ul>\n<li>关系R与关系S的并记为：<ul>\n<li>R∪S＝{t | t∈R ∨t∈S }</li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R或属于S的元组组成。 <img src=\"/articles/7de3dde6/并运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><strong>交运算（∩）</strong><ul>\n<li>关系R与关系S的交记为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>∩</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><mtext> </mtext><mi>t</mi><mtext> </mtext><mi mathvariant=\"normal\">∣</mi><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>R</mi><mtext> </mtext><mtext>  </mtext><mo>∧</mo><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R ∩ S ＝ \\{ \\, t \\, | \\, t ∈ R \\,\\; ∧ \\, t ∈ S \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6542em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R并且也属于S的元组组成。 <img src=\"/articles/7de3dde6/交运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><strong>差运算（―）</strong><ul>\n<li>关系R与关系S的差记为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext>－</mtext><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><mtext> </mtext><mi>t</mi><mtext> </mtext><mi mathvariant=\"normal\">∣</mi><mtext> </mtext><mi>t</mi><mo>∈</mo><mi>R</mi><mtext> </mtext><mtext>  </mtext><mo>∧</mo><mtext> </mtext><mi>t</mi><mo mathvariant=\"normal\">∉</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R － S ＝ \\{ \\, t \\, | \\, t ∈ R \\,\\; ∧ \\, t \\notin S\\}  </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">－</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mord\"><span class=\"mrel\">∈</span></span><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"llap\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mord\">/</span><span class=\"mspace\" style=\"margin-right:0.0556em;\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n<li>其结果仍是n目关系，由属于R但不属于S的元组组成。 <img src=\"/articles/7de3dde6/差运算.png\" width=70% height=70% /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>广义笛卡尔积</strong></p>\n<ul>\n<li>两个分别为n目和m目的关系R和关系S的广义笛卡尔积是一个（m＋n）列的元组的集合。</li>\n<li>元组的前n个列是关系R的一个元组，后m个列是关系S的一个元组。</li>\n<li>若R有K1个元组，S有K2个元组，则关系R和关系S的广义笛卡尔积有K1×K2个元组，记做：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>×</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><msub><mi>t</mi><mi>r</mi></msub><mtext>^</mtext><msub><mi>t</mi><mi>s</mi></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mi>t</mi><mi>s</mi></msub><mo>∈</mo><mi>S</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R × S ＝ \\{t_r \\text{\\textasciicircum} t_s | t_r \\in R ∧ t_s \\in S \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">^</span></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">}</span></span></span></span> \n<blockquote>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>r</mi></msub><mtext>^</mtext><msub><mi>t</mi><mi>s</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_r \\text{\\textasciicircum} t_s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">^</span></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>表示由两个元组<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>r</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mi>s</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>前后有序连接而成的一个元组。</blockquote>\n</li>\n</ul>\n<img src=\"/articles/7de3dde6/广义笛卡尔积.png\" width=70% height=70% /></li>\n</ul>\n<h3 id=\"专门的关系运算-1\"><a href=\"#专门的关系运算-1\" class=\"headerlink\" title=\"专门的关系运算\"></a>专门的关系运算</h3><ul>\n<li>专门的关系运算包括：<u>选择</u>、<u>投影、连接和除</u>等操作，其中第一个为一元操作，后三者为二元操作。</li>\n</ul>\n<h4 id=\"选择\"><a href=\"#选择\" class=\"headerlink\" title=\"选择\"></a>选择</h4><ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>σ</mi><mi>F</mi></msub><mtext>（</mtext><mi>R</mi><mtext>）＝</mtext><mo stretchy=\"false\">{</mo><mi>r</mi><mi mathvariant=\"normal\">∣</mi><mi>r</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>F</mi><mtext>（</mtext><mi>t</mi><mtext>）＝‘真’</mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">σ_{F}（R）＝ \\{ r | r∈R ∧ F（t）＝‘真’ \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mord\">‘</span><span class=\"mord cjk_fallback\">真</span><span class=\"mord\">’</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>其中：σ是选择运算符，R是关系名，r是元组，F是逻辑表达式，取逻辑“真”值或“假”值。</li>\n<li>例，选择系为计算机系的学生信息：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>σ</mi><mrow><mi>S</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi><mtext>＝‘计算机系’</mtext></mrow></msub><mtext>（学生表）</mtext></mrow><annotation encoding=\"application/x-tex\">σ_{Sdept＝‘计算机系’}（学生表）</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span><span class=\"mord cjk_fallback mtight\">＝</span><span class=\"mord mtight\">‘</span><span class=\"mord cjk_fallback mtight\">计算机系</span><span class=\"mord mtight\">’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">（学生表）</span></span></span></span></li>\n</ul>\n<h4 id=\"投影\"><a href=\"#投影\" class=\"headerlink\" title=\"投影\"></a>投影</h4><ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mi>A</mi></msub><mtext>（</mtext><mi>R</mi><mtext>）＝</mtext><mo stretchy=\"false\">{</mo><mi>r</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>r</mi><mo>∈</mo><mi>R</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">∏_A（R）＝ \\{ r.A | r∈R \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">A</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>其中：<ul>\n<li>∏是投影运算符，</li>\n<li>R是关系名，</li>\n<li>A是被投影的属性或属性组。</li>\n<li>r.A表示r这个元组中相应于属性（集）A的分量，也可以表示为r[A]。</li>\n</ul>\n</li>\n<li>例如，选择sname，sdept两个列构成新关系：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi></mrow></msub><mtext>（</mtext><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mtext>）</mtext></mrow><annotation encoding=\"application/x-tex\">∏_{sname, sdept}（Student） </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">）</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"连接\"><a href=\"#连接\" class=\"headerlink\" title=\"连接\"></a>连接</h4><ul>\n<li><p>其中：</p>\n<ul>\n<li>A和B分别是关系R和S上可比的属性组，</li>\n<li>θ是比较运算符，</li>\n<li>连接运算从R和S的广义笛卡尔积R×S中选择（R关系）在A属性组上的值与（S关系）在B属性组上值满足比较运算符θ的元组。 <img src=\"/articles/7de3dde6/连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><p><strong>等值连接</strong></p>\n<ul>\n<li>当θ为“＝”时的连接为等值连接，</li>\n<li>是从关系R与关系S的广义笛卡尔积中选取A，B属性值相等的那些元组。 <img src=\"/articles/7de3dde6/等值连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n<li><p><strong>自然连接</strong></p>\n<ul>\n<li>自然连接去掉结果中的重复列。</li>\n<li>自然连接与等值连接的差别为：<ul>\n<li>自然连接要求相等的分量必须有共同的属性名，等值连接则不要求；</li>\n<li>自然连接要求把重复的属性名去掉，等值连接却不这样做。  <img src=\"/articles/7de3dde6/自然连接.png\" width=70% height=70% /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>除（Division）</strong></p>\n<img src=\"/articles/7de3dde6/除示例.png\" width=70% height=70% />\n\n<ul>\n<li><strong>（1）除法的简单形式</strong><ul>\n<li>设关系S的属性是关系R的属性的一部分，则R÷S为这样一个关系：</li>\n<li>此关系的属性是由属于R但不属于S的所有属性组成；</li>\n<li>R÷S的任一元组都是R中某元组的一部分。但必须符合下列要求，即任取属于R÷S的一个元组t，则t与S的任一元组连接后，都为R中原有的一个元组。</li>\n</ul>\n</li>\n<li><strong>（2）除法的一般形式</strong><ul>\n<li>设有关系R（X，Y）和S（Y，Z），其中X、Y、Z为关系的属性组，则：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext>（</mtext><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mtext>）</mtext><mo>÷</mo><mi>S</mi><mtext>（</mtext><mi>Y</mi><mo separator=\"true\">,</mo><mi>Z</mi><mtext>）＝</mtext><mi>R</mi><mtext>（</mtext><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mtext>）</mtext><mo>÷</mo><msub><mo>∏</mo><mi>Y</mi></msub><mtext>（</mtext><mi>S</mi><mtext>）</mtext></mrow><annotation encoding=\"application/x-tex\">R（X,Y）÷ S（Y,Z）＝R（X,Y）÷ ∏_Y（S） </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord cjk_fallback\">）</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mord cjk_fallback\">）＝</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord cjk_fallback\">）</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">（</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">）</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>象集：</strong>给定一个关系R（X，Y），X和Y为属性组。定义，当t［X］＝x时，x在R中的象集为：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Y</mi><mi>x</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mi>t</mi><mo stretchy=\"false\">[</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>t</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mi>x</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">Y_x =\\{ t[Y] | t \\in R ∧ t[X]=x \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>上式中：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo stretchy=\"false\">[</mo><mi>Y</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t[Y] </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t[X] </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span></span></span></span>分别表示R中的元组t 在属性组Y和X上的分量的集合。</li>\n</ul>\n</li>\n<li><strong>除法的一般形式：</strong></li>\n<li>设有关系R（X，Y）和S（Y，Z），其中X、Y、Z为关系的属性组，则：<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>÷</mo><mi>S</mi><mtext>＝</mtext><mo stretchy=\"false\">{</mo><msub><mi>t</mi><mi>r</mi></msub><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mo>∏</mo><mi>Y</mi></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>Y</mi><mi>x</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R÷S＝ \\{t_r[X] | t_{r} \\in R ∧ ∏_{Y}(S) = Y_x \\} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord cjk_fallback\">＝</span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1786em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>查询修c02号课程的学生的学号和成绩。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>o</mi><mo separator=\"true\">,</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi><mi>o</mi><mo>=</mo><mtext>‘</mtext><mi>c</mi><mn>02</mn><mtext>’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sno, grade}(σ_{cno=‘c02’}(SC)) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mtight\">02’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mclose\">))</span></span></span></span></li>\n<li><p>查询计算机系修c02号课程的学生的姓名和成绩。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>g</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>c</mi><mi>n</mi><mi>o</mi><mo>=</mo><mtext>‘</mtext><mi>c</mi><mn>02</mn><mtext>’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo stretchy=\"false\">)</mo><mo>⋈</mo><msub><mi>σ</mi><mrow><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi><mo>=</mo><mtext>‘计算机系’</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sname, grade}(σ_{cno=‘c02’}(SC)  \\bowtie  σ_{sdept=‘计算机系’}(Student)) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mtight\">02’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">‘</span><span class=\"mord cjk_fallback mtight\">计算机系</span><span class=\"mord mtight\">’</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">))</span></span></span></span></li>\n<li><p>查询修了第2学期课程的学生的姓名和所在系。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>σ</mi><mrow><mi>s</mi><mi>e</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>=</mo><mn>2</mn></mrow></msub><mo stretchy=\"false\">(</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>e</mi><mo stretchy=\"false\">)</mo><mo>⋈</mo><mi>S</mi><mi>C</mi><mo>⋈</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sname, sdept}(σ_{semester=2}(Course) \\bowtie SC \\bowtie Student) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">pt</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">se</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rse</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6883em;vertical-align:-0.005em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><p>查询修了全部课程的学生的学号和姓名。</p>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∏</mo><mrow><mi>s</mi><mi>n</mi><mi>o</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>⋈</mo><mo stretchy=\"false\">(</mo><mi>S</mi><mi>C</mi><mo>÷</mo><msub><mo>∏</mo><mrow><mi>c</mi><mi>n</mi><mi>o</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>e</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">∏_{sno, sname}(Student \\bowtie (SC ÷ ∏_{cno}(Course))) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.0017em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">nam</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⋈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">SC</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.0017em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">o</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rse</span><span class=\"mclose\">)))</span></span></span></span></li>\n</ul>\n<h1 id=\"第4章-SQL语言基础\"><a href=\"#第4章-SQL语言基础\" class=\"headerlink\" title=\"第4章 SQL语言基础\"></a>第4章 SQL语言基础</h1><h2 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h2><h3 id=\"SQL语言的发展\"><a href=\"#SQL语言的发展\" class=\"headerlink\" title=\"SQL语言的发展\"></a>SQL语言的发展</h3><ul>\n<li>1986年10月由美国ANSI 公布最早的SQL标准。 </li>\n<li>1989年4月，ISO提出了具备完整性特征的SQL，称为<strong>SQL-89</strong> 。</li>\n<li>1992年11月，ISO又公布了新的SQL标准，称为<strong>SQL-92</strong><u>（以上均为关系形式）</u>。</li>\n<li>1999年颁布<strong>SQL-99</strong>，<u>是SQL92的扩展</u>。</li>\n</ul>\n<h3 id=\"SQL语言的特点\"><a href=\"#SQL语言的特点\" class=\"headerlink\" title=\"SQL语言的特点\"></a>SQL语言的特点</h3><ol>\n<li><p>一体化。 </p>\n<blockquote>\n<p>一体化指的是SQL语言提供了一个统一的接口来进行数据库的各种操作。无论是数据的查询、插入、更新、删除，还是数据库的结构设计、权限管理等，SQL都可以在一个统一的框架下完成。这种统一性意味着开发者不需要了解底层的数据库实现细节，而只需专注于如何表达自己的需求。<br>举个例子，在SQL中，查询、插入和更新操作有统一的语法结构，开发者可以通过简单的SQL语句实现复杂的数据操作，不需要涉及底层的技术细节。</p>\n</blockquote>\n</li>\n<li><p>高度非过程化。 </p>\n<blockquote>\n<p>SQL是非过程化的，即在SQL中，开发者不需要关心数据操作的具体执行过程，只需要说明”做什么”（例如查询、更新、删除），而不需要明确告诉数据库”如何做”。<br>非过程化意味着你只需描述你想要的结果，数据库系统会根据内部优化器自动决定最合适的执行计划。例如，执行一个查询时，SQL不要求你指定数据是如何检索的（比如先查哪个表，如何连接等），这些由数据库系统自动完成。</p>\n</blockquote>\n</li>\n<li><p>简洁。</p>\n<blockquote>\n<p>SQL语言非常简洁，使用自然语言的结构来描述数据操作。SQL的语法是基于英语的，使得它容易理解和使用。由于SQL是<strong>声明式语言</strong>，开发者只需要描述查询的目的，而无需关注实现细节。通过简洁的语法，SQL可以在非常短的代码行内表达复杂的数据库操作。<br><strong>声明式语言（Declarative Language）</strong>是一类编程语言，其主要特点是程序员只需要描述想要做什么，而不需要详细地描述如何去做。也就是说，在声明式语言中，程序员关注的是结果而不是实现过程。</p>\n</blockquote>\n</li>\n<li><p>使用方式多样。</p>\n<blockquote>\n<p>SQL不仅用于查询数据，还可以用于多种数据库操作和管理任务。它支持数据定义（创建表、修改表结构等）、数据操作（插入、更新、删除等）、数据控制（权限管理等）等功能。</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"SQL语言功能概述\"><a href=\"#SQL语言功能概述\" class=\"headerlink\" title=\"SQL语言功能概述\"></a>SQL语言功能概述</h3><img src=\"/articles/7de3dde6/SQL语言功能概述.png\" width=70% height=70% />\n\n<h2 id=\"SQL的数据类型\"><a href=\"#SQL的数据类型\" class=\"headerlink\" title=\"SQL的数据类型\"></a>SQL的数据类型</h2><h3 id=\"数值型\"><a href=\"#数值型\" class=\"headerlink\" title=\"数值型\"></a>数值型</h3><ul>\n<li>准确型 <ul>\n<li>整数<br>Bigint: 8字节，         Int：4字节<br>Smallint：2字节，   Tinyint：1字节<br>Bit：1位，存储1或0</li>\n<li>小数<br>Numeric（p,q）或Decimal（p,q），<br>其中：p为数字位长度，q：小数位长度。</li>\n</ul>\n</li>\n<li>近似型<br>Float：8字节<br>Real：4字节</li>\n</ul>\n<h3 id=\"字符串型\"><a href=\"#字符串型\" class=\"headerlink\" title=\"字符串型\"></a>字符串型</h3><h4 id=\"普通编码字符串类型\"><a href=\"#普通编码字符串类型\" class=\"headerlink\" title=\"普通编码字符串类型\"></a>普通编码字符串类型</h4><blockquote>\n<p>这些类型通常使用数据库的<strong>默认字符集</strong>（如 ASCII 或其他单字节编码）进行存储，因此每个字符通常占用 <strong>1个字节</strong>。它们适用于<u>不需要多语言支持、主要处理英文字符或其他单字节字符</u>的场景。</p>\n</blockquote>\n<ul>\n<li><p>Char（n）:定长存储，n&lt;&#x3D;8000</p>\n</li>\n<li><p>Varchar（n）：不定长存储<strong>（按实际长度存储）</strong>，长度最大不超过n , n&lt;&#x3D;8000 </p>\n<blockquote>\n<p>注：n 为字符个数</p>\n</blockquote>\n</li>\n<li><p>Text：存储大于8000字节的文本</p>\n</li>\n</ul>\n<h4 id=\"统一字符编码字符串类型\"><a href=\"#统一字符编码字符串类型\" class=\"headerlink\" title=\"统一字符编码字符串类型\"></a>统一字符编码字符串类型</h4><ul>\n<li>nchar（n）：定长存储，n&lt;&#x3D;4000 </li>\n<li>nvarchar（n）：不定长存储，长度最大不超过n , n&lt;&#x3D;4000 </li>\n<li>ntext：存储大于8000字节的文本<blockquote>\n<p>特点：每个字符占两个字节</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"二进制字符串类型\"><a href=\"#二进制字符串类型\" class=\"headerlink\" title=\"二进制字符串类型\"></a>二进制字符串类型</h4><ul>\n<li>Binary(n)：固定长度，n &lt;&#x3D; 8000。</li>\n<li>Varbinary(n)：可变长度，n &lt;＝8000 。<blockquote>\n<p>注：n为二进制数据的字节数</p>\n</blockquote>\n</li>\n<li><strong>image：</strong>大容量、可变长二进制字符数据，可用于存储文件。</li>\n</ul>\n<h3 id=\"日期时间型\"><a href=\"#日期时间型\" class=\"headerlink\" title=\"日期时间型\"></a>日期时间型</h3><ul>\n<li><p>Datetime：8字节，年月日时分秒<strong>毫秒</strong><br>（例：‘2001&#x2F;08&#x2F;03 10:30:00.000’ ）</p>\n</li>\n<li><p>SmallDateTime：4字节，年月日时<strong>分</strong><br>（例： ‘2001&#x2F;08&#x2F;03 10:30:00’ ）</p>\n</li>\n<li><p>日期、时间的输入格式</p>\n</li>\n</ul>\n<h3 id=\"货币型\"><a href=\"#货币型\" class=\"headerlink\" title=\"货币型\"></a>货币型</h3><ul>\n<li>Money： 8 个字节，精确到货币单位的千分之十。</li>\n<li>Smallmoney： 4 个字节，精确到货币单位的千分之十。</li>\n<li>限制到小数点后 4 位。</li>\n<li><strong>可以带有适当的货币符号。</strong>例如，100 英镑可表示为 £100。</li>\n</ul>\n<h2 id=\"基本表的定义、删除及修改\"><a href=\"#基本表的定义、删除及修改\" class=\"headerlink\" title=\"基本表的定义、删除及修改\"></a>基本表的定义、删除及修改</h2><h3 id=\"基本表的定义与删除\"><a href=\"#基本表的定义与删除\" class=\"headerlink\" title=\"基本表的定义与删除\"></a>基本表的定义与删除</h3><ol>\n<li>定义基本表<br>  使用SQL语言中的<code>CREATE TABLE</code>语句实现，其一般格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span>  <span class=\"keyword\">TABLE</span>  <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span>（</span><br><span class=\"line\">    <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span>  [列级完整性约束定义]</span><br><span class=\"line\">&#123;,  <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span> </span><br><span class=\"line\">    [列级完整性约束定义］ … &#125;</span><br><span class=\"line\">[, 表级完整性约束定义 ] ） </span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li><p>在列级完整性约束定义处可以定义的约束</p>\n<ul>\n<li>NOT NULL：限制列取值非空。</li>\n<li>DEFAULT：给定列的默认值。</li>\n<li>UNIQUE：限制列取值不重。</li>\n<li>CHECK：限制列的取值范围。</li>\n<li>PRIMARY KEY：指定本列为主码。</li>\n<li>FOREIGN KEY：定义本列为引用其他表的外码。使用形式为：</li>\n<li>[FOREIGN KEY(&lt;外码列名&gt;)] REFERENCES &lt;外表名&gt;（&lt;外表列名&gt;）</li>\n</ul>\n</li>\n<li><p>几点说明</p>\n<ul>\n<li>NOT NULL和DEFAULT只能是列级完整性约束；</li>\n<li>其他约束均可在表级完整性约束处定义。</li>\n<li>注意以下几点：<ul>\n<li>第一，如果CHECK约束是定义多列之间的取值约束，则只能在表级完整性约束处定义；</li>\n<li>第二，如果表的主码由多个列组成，则也只能在表级完整性约束处定义，并将主码列用括号括起来，即：PRIMARY KEY（列1｛[，列2 ] …｝）；</li>\n<li>第三，如果在表级完整性约束处定义外码，则“FOREIGN KEY (&lt;外码列名&gt;)”部分不能省。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>约束说明<br>① 列取值非空约束<br><code>&lt;列名&gt;  &lt;类型&gt; NOT NULL</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sname <span class=\"type\">char</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span></span><br></pre></td></tr></table></figure>\n<p>② 表主码约束</p>\n</li>\n<li><p>在定义列时定义主码（仅用于单列主码）<br><code>列定义  PRIMARY KEY</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SNO <span class=\"type\">char</span>(<span class=\"number\">7</span>) <span class=\"keyword\">PRIMARY</span> KEY</span><br></pre></td></tr></table></figure></li>\n<li><p>在定义完列时定义主码（用于单列或多列主码）<br><code>PRIMARY KEY （&lt;列名序列&gt;）</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">PRIMARY</span> KEY(SNO)</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY(SNO，CNO)</span><br></pre></td></tr></table></figure>\n<p>③ 外码引用约束</p>\n</li>\n<li><p>指明本表外码列引用的表及表中的主码列。<br><code>[ FOREIGN KEY （&lt;本表列名&gt;）]</code><br><code>REFERENCES &lt;外表名&gt;（&lt;外表主码列名&gt;）</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FOREIGN</span> KEY （sno）</span><br><span class=\"line\">  <span class=\"keyword\">REFERENCES</span>  学生表（sno）</span><br></pre></td></tr></table></figure>\n<p>④ 默认值约束</p>\n</li>\n<li><p>格式：DEFAULT 默认值<br>例：<br>定义系的默认值为“计算机系”。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DEFAULT</span>  ‘计算机系’</span><br></pre></td></tr></table></figure>\n<p>⑤ CHECK约束</p>\n</li>\n<li><p>格式：CHECK (约束表达式)<br>例：<br>定义成绩大于等于0。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CHECK</span> (  grade <span class=\"operator\">&gt;=</span> <span class=\"number\">0</span> )</span><br></pre></td></tr></table></figure>\n<p>⑥ UNIQUE约束</p>\n</li>\n<li><p>在列级约束定义（仅用于单列约束）<br><code>列定义  UNIQUE</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SNAME  <span class=\"type\">char</span>(<span class=\"number\">7</span>) <span class=\"keyword\">UNIQUE</span></span><br></pre></td></tr></table></figure></li>\n<li><p>在表级约束定义（用于单列或多列组合约束）<br><code>UNIQUE （&lt;列名序列&gt;）</code><br>例： </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UNIQUE</span> (SNO，CNO)</span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li><p>创建学生表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">  Sno   <span class=\"type\">char</span> ( <span class=\"number\">7</span> )  <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">  Sname <span class=\"type\">char</span> ( <span class=\"number\">10</span> ) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Ssex  <span class=\"type\">char</span> (<span class=\"number\">2</span>)  </span><br><span class=\"line\">        <span class=\"keyword\">CHECK</span> (Ssex <span class=\"operator\">=</span> <span class=\"string\">&#x27;男&#x27;</span> <span class=\"keyword\">OR</span> Ssex <span class=\"operator\">=</span> <span class=\"string\">&#x27;女&#x27;</span>), </span><br><span class=\"line\">  Sage  tinyint  </span><br><span class=\"line\">        <span class=\"keyword\">CHECK</span> (Sage <span class=\"operator\">&gt;=</span> <span class=\"number\">15</span> <span class=\"keyword\">AND</span> Sage <span class=\"operator\">&lt;=</span><span class=\"number\">45</span>),</span><br><span class=\"line\">  Sdept <span class=\"type\">char</span> (<span class=\"number\">20</span> ) <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;计算机系&#x27;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建课程表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Course (</span><br><span class=\"line\">  Cno    <span class=\"type\">char</span>(<span class=\"number\">10</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Cname  <span class=\"type\">char</span>(<span class=\"number\">20</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Ccredit  tinyint <span class=\"keyword\">CHECK</span> (Ccredit <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  Semester tinyint <span class=\"keyword\">CHECK</span> (Semester <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  <span class=\"keyword\">Period</span>  <span class=\"type\">int</span> <span class=\"keyword\">CHECK</span> (<span class=\"keyword\">Period</span> <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>),</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY(Cno) </span><br><span class=\"line\">) </span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建SC(Student-Course)表</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> SC (</span><br><span class=\"line\">  Sno <span class=\"type\">char</span>(<span class=\"number\">7</span>)  <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Cno <span class=\"type\">char</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  Grade  tinyint,</span><br><span class=\"line\">      <span class=\"keyword\">CHECK</span> (Grade <span class=\"operator\">&gt;=</span> <span class=\"number\">0</span> <span class=\"keyword\">and</span> Grade <span class=\"operator\">&lt;=</span> <span class=\"number\">100</span>),</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY ( Sno, Cno ),</span><br><span class=\"line\">  <span class=\"keyword\">FOREIGN</span> KEY ( Sno )  </span><br><span class=\"line\">      <span class=\"keyword\">REFERENCES</span>  Student ( Sno ),</span><br><span class=\"line\">  <span class=\"keyword\">FOREIGN</span> KEY ( Cno )  </span><br><span class=\"line\">      <span class=\"keyword\">REFERENCES</span>  Course ( Cno ) </span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除表</p>\n</li>\n</ol>\n<ul>\n<li>当确信不再需要某个表时，可以将其删除</li>\n<li>删除表时会将与表有关的所有对象一起删掉，包括表中的数据。</li>\n<li>删除表的语句格式为：<br><code>DROP  TABLE  &lt;表名&gt;  &#123; [, &lt;表名&gt; ] … &#125;</code><br>例：<br>删除test表的语句为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">TABLE</span> test</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"修改表结构\"><a href=\"#修改表结构\" class=\"headerlink\" title=\"修改表结构\"></a>修改表结构</h3><ul>\n<li>在定义完表之后，如果需求有变化，比如添加列、删除列或修改列定义，可以使用ALTER TABLE语句实现。</li>\n<li>ALTER TABLE语句可以对表添加列、删除列、修改列的定义、定义主码、外码，也可以添加和删除约束。 </li>\n<li><strong>修改表结构语法</strong></li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span>  </span><br><span class=\"line\">  [ <span class=\"keyword\">ALTER</span> <span class=\"keyword\">COLUMN</span> <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span> <span class=\"operator\">&lt;</span>新数据类型<span class=\"operator\">&gt;</span>] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> [<span class=\"keyword\">COLUMN</span>] <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span> <span class=\"operator\">&lt;</span>数据类型<span class=\"operator\">&gt;</span> </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">DROP</span> <span class=\"keyword\">COLUMN</span> <span class=\"operator\">&lt;</span>列名<span class=\"operator\">&gt;</span>  ] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> <span class=\"keyword\">PRIMARY</span> KEY(列名 [，… n ] )] </span><br><span class=\"line\"><span class=\"operator\">|</span> [ <span class=\"keyword\">ADD</span> <span class=\"keyword\">FOREIGN</span> KEY(列名)</span><br><span class=\"line\">   REFERNECES 表名 (列名)]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>示例</strong><br>例2．为SC表添加“修课类别”列，此列的定义为：XKLB  char(4)<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ADD</span> XKLB <span class=\"type\">char</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NULL</span> </span><br></pre></td></tr></table></figure>\n例3．将新添加的XKLB的类型改为：char(6)。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ALTER</span> <span class=\"keyword\">COLUMN</span> XKLB <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br></pre></td></tr></table></figure>\n例4．删除Course表的Period列。 <figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> Course </span><br><span class=\"line\">  <span class=\"keyword\">DROP</span> <span class=\"keyword\">COLUMN</span> <span class=\"keyword\">Period</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"数据查询功能\"><a href=\"#数据查询功能\" class=\"headerlink\" title=\"数据查询功能\"></a>数据查询功能</h2><h3 id=\"查询语句的基本结构\"><a href=\"#查询语句的基本结构\" class=\"headerlink\" title=\"查询语句的基本结构\"></a>查询语句的基本结构</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">&lt;</span>目标列名序列<span class=\"operator\">&gt;</span>    <span class=\"comment\">--需要哪些列</span></span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> <span class=\"operator\">&lt;</span>数据源<span class=\"operator\">&gt;</span>              <span class=\"comment\">--来自于哪些表</span></span><br><span class=\"line\"> [<span class=\"keyword\">WHERE</span> <span class=\"operator\">&lt;</span>检索条件<span class=\"operator\">&gt;</span>]       <span class=\"comment\">--根据什么条件</span></span><br><span class=\"line\"> [<span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"operator\">&lt;</span>分组依据列<span class=\"operator\">&gt;</span>]      </span><br><span class=\"line\"> [<span class=\"keyword\">HAVING</span> <span class=\"operator\">&lt;</span>组提取条件<span class=\"operator\">&gt;</span>]</span><br><span class=\"line\"> [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> <span class=\"operator\">&lt;</span>排序依据列<span class=\"operator\">&gt;</span>] </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"简单查询\"><a href=\"#简单查询\" class=\"headerlink\" title=\"简单查询\"></a>简单查询</h3><h4 id=\"选择表中若干列\"><a href=\"#选择表中若干列\" class=\"headerlink\" title=\"选择表中若干列\"></a>选择表中若干列</h4><ol>\n<li><strong>查询指定的列</strong></li>\n</ol>\n<ul>\n<li>查询表中用户感兴趣的部分属性列。<br>例5：查询全体学生的学号与姓名。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno，Sname <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n例6：查询全体学生的姓名、学号和所在系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname，Sno，Sdept  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li>查询全部列<br>例7．查询全体学生的记录<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno，Sname，Ssex, Sage, Sdept </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n等价于：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  <span class=\"operator\">*</span>  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n<li>查询经过计算的列<br>例8．查询全体学生的姓名及其出生年份。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br></pre></td></tr></table></figure>\n例9．查询全体学生的姓名和出生年份所在系，并在出生年份列前加入一个列，此列的每行数据均为`出生年份`常量值。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname，`出生年份`, <span class=\"number\">2006</span><span class=\"operator\">-</span>Sage</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure></li>\n<li>列别名(Alias)</li>\n</ol>\n<ul>\n<li><p>在 SELECT 语句中，你可以使用 <strong>列别名（Alias）</strong> 给查询结果的列起一个更直观的名称，方便阅读。</p>\n</li>\n<li><p>语法：<br><code>列名 | 表达式 [ AS ] 列标题</code><br>或：<br><code>列标题 = 列名 | 表达式</code><br>例：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">AS</span> 姓名, `<span class=\"keyword\">Year</span> <span class=\"keyword\">of</span> Birth` <span class=\"keyword\">AS</span> 出生年份, <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage <span class=\"keyword\">AS</span> 年份</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure>\n<p>或：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> 姓名 <span class=\"operator\">=</span> Sname, 出生年份 <span class=\"operator\">=</span> `<span class=\"keyword\">Year</span> <span class=\"keyword\">of</span> Birth`, 年份 <span class=\"operator\">=</span> <span class=\"number\">2006</span> <span class=\"operator\">-</span> Sage</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"选择表中若干元组\"><a href=\"#选择表中若干元组\" class=\"headerlink\" title=\"选择表中若干元组\"></a>选择表中若干元组</h4><ol>\n<li>消除取值相同的记录<br>例10．在修课表中查询有哪些学生修了课程，要求列出学生的学号。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  Sno  <span class=\"keyword\">FROM</span>  SC</span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>结果中有重复的行。</li>\n<li>用DISTINCT关键字可以去掉结果中的重复行。</li>\n<li>DISTINCT关键字放在SELECT词的后边、目标列名序列的前边。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span>  <span class=\"keyword\">DISTINCT</span>  Sno  <span class=\"keyword\">FROM</span>  SC</span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"2\">\n<li><p>查询满足条件的元组 </p>\n<img src=\"/articles/7de3dde6/查询元组.png\" width=70% height=70% />\n</li>\n<li><p>比较大小<br>例11．查询计算机系全体学生的姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;计算机系&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例12．查询年龄在20岁以下的学生的姓名及年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sage <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"operator\">&lt;</span> <span class=\"number\">20</span></span><br></pre></td></tr></table></figure>\n<p>例13．查询考试成绩有不及格的学生的学号</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> Sno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"operator\">&lt;</span> <span class=\"number\">60</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>确定范围</p>\n</li>\n</ol>\n<ul>\n<li><p>用<code>BETWEEN…AND</code>和<code>NOT BETWEEN…AND</code></p>\n</li>\n<li><p>是逻辑运算符，可以用来查找属性值在或不在指定范围内的元组，其中<strong>BETWEEN</strong>后边指定范围的<strong>下限</strong>，<strong>AND</strong>后边指定范围的<strong>上限</strong>。</p>\n</li>\n<li><p>BETWEEN…AND…的格式为：<br><code>列名 | 表达式 [ NOT ] BETWEEN 下限值 AND 上限值</code></p>\n</li>\n<li><p>如果列或表达式的值[在&#x2F;不在]下限值和上限值范围内，则结果为True，表明此记录符合查询条件。  </p>\n</li>\n<li><p>示例<br>例14．查询年龄在20～23岁之间的学生的姓名、所在系和年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept, Sage  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"keyword\">BETWEEN</span> <span class=\"number\">20</span> <span class=\"keyword\">AND</span> <span class=\"number\">23</span></span><br></pre></td></tr></table></figure>\n<p>例15．查询年龄不在20～23之间的学生姓名、所在系和年龄。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept, Sage  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sage <span class=\"keyword\">NOT</span> <span class=\"keyword\">BETWEEN</span> <span class=\"number\">20</span> <span class=\"keyword\">AND</span> <span class=\"number\">23</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<ol start=\"5\">\n<li>确定集合</li>\n</ol>\n<ul>\n<li><p>使用IN运算符。</p>\n</li>\n<li><p>用来查找属性值属于指定集合的元组。</p>\n</li>\n<li><p>格式为：<br><code>列名 [ NOT ] IN （常量1, 常量2, … 常量n）</code></p>\n</li>\n<li><p>当列中的值与IN中的某个常量值相等时，则结果为True，表明此记录为符合查询条件的记录；</p>\n</li>\n<li><p>NOT IN：当列中的值与某个常量值相同时，则结果为False，表明此记录为不符合查询条件的记录</p>\n</li>\n<li><p>示例<br>例16．查询信息系、数学系和计算机系学生的姓名和性别。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Ssex  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span> (<span class=\"string\">&#x27;信息系&#x27;</span>, <span class=\"string\">&#x27;数学系&#x27;</span>, <span class=\"string\">&#x27;计算机系&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p>例17．查询既不是信息系、数学系，也不是计算机系学生的姓名和性别。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Ssex  <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">NOT</span> <span class=\"keyword\">IN</span> (<span class=\"string\">&#x27;信息系&#x27;</span>, <span class=\"string\">&#x27;数学系&#x27;</span>, <span class=\"string\">&#x27;计算机系&#x27;</span>)</span><br></pre></td></tr></table></figure></li>\n<li><p>使用LIKE运算符</p>\n</li>\n<li><p>一般形式为：<br><code>列名  [NOT]  LIKE  &lt;匹配串&gt;</code></p>\n</li>\n<li><p>匹配串中可包含如下四种通配符：</p>\n<ul>\n<li>_：匹配任意一个字符；</li>\n<li>%：匹配0个或多个字符；</li>\n<li>[ ]：匹配[ ]中的任意一个字符；</li>\n<li>[ ^ ]：不匹配[ ]中的任意一个字符 <blockquote>\n<p><strong>例：</strong>[^0-9]匹配任何不是数字的字符。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>示例<br>例18．查询姓‘张’的学生的详细信息。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;张%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例19．查询学生表中姓‘张’、‘李’和‘刘’的学生的情况。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; [张李刘]%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例20．查询名字中第2个字为‘小’或‘大’的学生的姓名和学号</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sno <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;_[小大]%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例21．查询所有不姓“刘”的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sname <span class=\"keyword\">NOT</span> <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;刘%&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>例22．查询学号的最后一位不是2、3、5的学生情况。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;%[^235]&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n<li><p>空值（NULL）在数据库中表示不确定的值。</p>\n</li>\n<li><p>例如，学生选修课程后还没有考试时，这些学生有选课记录，但没有考试成绩，因此考试成绩为空值。</p>\n</li>\n<li><p><strong>判断某个值是否为NULL值，不能使用普通的比较运算符。</strong></p>\n</li>\n<li><p>判断取值为空的语句格式为：<br><code>列名 IS NULL</code></p>\n</li>\n<li><p>判断取值不为空的语句格式为：<br><code>列名 IS NOT NULL</code><br>例23．查询无考试成绩的学生的学号和相应的课程号。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Cno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"keyword\">IS</span> <span class=\"keyword\">NULL</span></span><br></pre></td></tr></table></figure>\n<p>例24．查询所有有考试成绩的学生的学号和课程号。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Cno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Grade <span class=\"keyword\">IS</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> </span><br></pre></td></tr></table></figure></li>\n<li><p>在<code>WHERE</code>子句中可以使用逻辑运算符<code>AND</code>和<code>OR</code>来组成多条件查询。</p>\n<ul>\n<li>用<code>AND</code>连接的条件表示必须全部满足所有的条件的结果才为<code>True</code>；</li>\n<li>用<code>OR</code>连接的条件表示只要满足其中一个条件结果即为<code>True</code>。<blockquote>\n<p>AND 的优先级高于 OR。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>例25．查询计算机系年龄在20岁以下的学生姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;CS&#x27;</span> <span class=\"keyword\">AND</span> Sage <span class=\"operator\">&lt;</span> <span class=\"number\">20</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"对查询结果进行排序\"><a href=\"#对查询结果进行排序\" class=\"headerlink\" title=\"对查询结果进行排序\"></a>对查询结果进行排序</h4><ul>\n<li>可对查询结果进行排序。 </li>\n<li>排序子句为：<br><code>ORDER BY &lt;列名&gt; [ASC | DESC ] [,&lt;列名&gt; … ]</code></li>\n<li>说明：按&lt;列名&gt;进行升序（ASC）或降序（DESC）排序。</li>\n<li>示例<br>例26．将学生按年龄的升序排序。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Sage</span><br></pre></td></tr></table></figure>\n例27．查询选修了‘c02’号课程的学生的学号及其成绩，查询结果按成绩降序排列。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Grade <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;c02&#x27;</span> <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Grade <span class=\"keyword\">DESC</span></span><br></pre></td></tr></table></figure>\n例28．查询全体学生的信息，查询结果按所在系的系名升序排列，同一系的学生按年龄降序排列。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Sdept, Sage <span class=\"keyword\">DESC</span>  </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"使用计算函数汇总数据\"><a href=\"#使用计算函数汇总数据\" class=\"headerlink\" title=\"使用计算函数汇总数据\"></a>使用计算函数汇总数据</h4><ul>\n<li>SQL提供的计算函数有：<ul>\n<li>COUNT（ * ）：统计表中元组个数；</li>\n<li>COUNT（[DISTINCT] &lt;列名&gt; ）：统计本列列值个数；</li>\n<li>SUM（[DISTINCT] &lt;列名&gt; ）：计算列值总和；</li>\n<li>AVG（[DISTINCT] &lt;列名&gt; ）：计算列值平均值；</li>\n<li>MAX（[DISTINCT] &lt;列名&gt; ）：求列值最大值； </li>\n<li>MIN（[DISTINCT] &lt;列名&gt; ）：求列值最小值。</li>\n</ul>\n</li>\n<li>上述函数中除COUNT（*）外，其他函数在计算过程中均忽略NULL值。</li>\n<li>示例<br>例29．统计学生总人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">FROM</span> Student </span><br></pre></td></tr></table></figure>\n例30．统计选修了课程的学生的人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">COUNT</span>(<span class=\"keyword\">DISTINCT</span> Sno)</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC</span><br></pre></td></tr></table></figure>\n例31．计算9512101号学生的考试总成绩之和。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">SUM</span>(Grade) <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> <span class=\"string\">&#x27;9512101&#x27;</span> </span><br></pre></td></tr></table></figure>\n例32．计算’C01’号课程学生的考试平均成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>\n例33．查询选修了’C01’号课程的学生的最高分和最低分。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">MAX</span>(Grade) , <span class=\"built_in\">MIN</span>(Grade)  </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC <span class=\"keyword\">WHERE</span> Cno<span class=\"operator\">=</span><span class=\"string\">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>注意：</strong>计算函数不能出现在WHERE子句中</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"对查询结果进行分组计算\"><a href=\"#对查询结果进行分组计算\" class=\"headerlink\" title=\"对查询结果进行分组计算\"></a>对查询结果进行分组计算</h4><ul>\n<li>作用：可以控制计算的级别：对全表还是对一组。</li>\n<li>目的：细化计算函数的作用对象。</li>\n<li>分组语句的一般形式：<ul>\n<li>[GROUP BY &lt;分组条件&gt;] </li>\n<li>[HAVING &lt;组过滤条件&gt;]</li>\n</ul>\n</li>\n</ul>\n<ol>\n<li>使用GROUP BY<br>例34．统计每门课程的选课人数，列出课程号和人数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Cno <span class=\"keyword\">as</span> 课程号, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(Sno) <span class=\"keyword\">as</span> 选课人数 </span><br><span class=\"line\"><span class=\"keyword\">FROM</span> SC <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Cno </span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>对查询结果按Cno的值分组，所有具有相同Cno值的元组为一组，然后再对每一组使用COUNT计算，求得每组的学生人数。<img src=\"/articles/7de3dde6/group_by.png\" width=70% height=70% />\n例35．查询每名学生的选课门数和平均成绩。\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">as</span> 学号, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">as</span> 选课门数, </span><br><span class=\"line\">  <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">as</span> 平均成绩 </span><br><span class=\"line\"><span class=\"keyword\">FROM</span> SC <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno</span><br></pre></td></tr></table></figure></li>\n<li><strong>HAVING</strong>用于对分组自身进行限制，它有点像WHERE子句，但它<strong>用于组而不是对单个记录</strong>。<br>例36．查询修了3门以上课程的学生的学号<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno</span><br><span class=\"line\">  <span class=\"keyword\">HAVING</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;</span> <span class=\"number\">3</span> </span><br></pre></td></tr></table></figure></li>\n<li>示例<br>例37．查询修课门数等于或大于4门的学生的平均成绩和选课门数。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, <span class=\"built_in\">AVG</span>(Grade) 平均成绩, </span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) 修课门数</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> SC </span><br><span class=\"line\">  <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> Sno </span><br><span class=\"line\">  <span class=\"keyword\">HAVING</span> <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;=</span> <span class=\"number\">4</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"多表连接查询\"><a href=\"#多表连接查询\" class=\"headerlink\" title=\"多表连接查询\"></a>多表连接查询</h3><ul>\n<li><p>若一个查询同时涉及两个或两个以上的表，则称之为连接查询。</p>\n</li>\n<li><p>连接查询是关系数据库中最主要的查询。</p>\n</li>\n<li><p>连接查询包括内连接、外连接和交叉连接等。</p>\n</li>\n<li><p>连接查询中用于连接两个表的条件称为连接条件或连接谓词。 </p>\n</li>\n<li><p>一般格式为：<br><code>[&lt;表名1.&gt;][&lt;列名1&gt;] &lt;比较运算符&gt; [&lt;表名2.&gt;][&lt;列名2&gt;]</code></p>\n</li>\n<li><p><strong>内连接</strong></p>\n</li>\n<li><p>SQL-92 内连接语法如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> …</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> 表名 [<span class=\"keyword\">INNER</span>] <span class=\"keyword\">JOIN</span></span><br><span class=\"line\">  被连接表</span><br><span class=\"line\">  <span class=\"keyword\">ON</span>  连接条件</span><br></pre></td></tr></table></figure></li>\n<li><p>执行连接操作的过程：</p>\n<ul>\n<li>首先取表1中的第1个元组，然后从头开始扫描表2，逐一查找满足连接条件的元组，</li>\n<li>找到后就将表1中的第1个元组与该元组拼接起来，形成结果表中的一个元组。</li>\n<li>表2全部查找完毕后，再取表1中的第2个元组，然后再从头开始扫描表2， …</li>\n<li>重复这个过程，直到表1中的全部元组都处理完毕为止。<br>例40.查询计算机系学生的修课情况，要求列出学生的名字、所修课的课程号和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Cno, Grade </span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">JOIN</span> SC  </span><br><span class=\"line\">  <span class=\"keyword\">ON</span> Student.Sno <span class=\"operator\">=</span> SC.Sno</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;计算机系&#x27;</span> </span><br></pre></td></tr></table></figure>\n例41. 查询信息系修了VB课程的学生的修课成绩，要求列出学生姓名、课程名和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Cname, Grade</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span>  Student  s  <span class=\"keyword\">JOIN</span>  SC </span><br><span class=\"line\">  <span class=\"keyword\">ON</span> s.Sno <span class=\"operator\">=</span> SC. Sno</span><br><span class=\"line\">  <span class=\"keyword\">JOIN</span>  Course c <span class=\"keyword\">ON</span> c.Cno <span class=\"operator\">=</span> SC.Cno</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"operator\">=</span> <span class=\"string\">&#x27;信息系&#x27;</span> </span><br><span class=\"line\">        <span class=\"keyword\">AND</span> Cname <span class=\"operator\">=</span> <span class=\"string\">&#x27;VB&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>自连接</strong></p>\n<ul>\n<li>为特殊的内连接</li>\n<li>相互连接的表物理上为同一张表。</li>\n<li>必须为两个表取别名，使之在逻辑上成为两个表。<br>例43. 查询与刘晨在同一个系学习的学生的姓名和所在的系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> S2.Sname, S2.Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student S1 <span class=\"keyword\">JOIN</span> Student S2</span><br><span class=\"line\">  <span class=\"keyword\">ON</span> S1.Sdept <span class=\"operator\">=</span> S2.Sdept</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> S1.Sname <span class=\"operator\">=</span> ‘刘晨’</span><br><span class=\"line\">  <span class=\"keyword\">AND</span> S2.Sname <span class=\"operator\">!=</span> ‘刘晨’</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>外连接</strong></p>\n<ul>\n<li>只限制一张表中的数据必须满足连接条件，而另一张表中数据可以不满足连接条件。 </li>\n<li>ANSI方式的外连接的语法格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>  <span class=\"keyword\">LEFT</span> <span class=\"operator\">|</span> <span class=\"keyword\">RIGHT</span>  [<span class=\"keyword\">OUTER</span>]  </span><br><span class=\"line\">  <span class=\"keyword\">JOIN</span>  表<span class=\"number\">2</span>  <span class=\"keyword\">ON</span>  <span class=\"operator\">&lt;</span>连接条件<span class=\"operator\">&gt;</span> </span><br></pre></td></tr></table></figure></li>\n<li>theta方式的外连接的语法格式为：<br>左外连接：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>, 表<span class=\"number\">2</span>  <span class=\"keyword\">WHERE</span> [表<span class=\"number\">1.</span>]列名(<span class=\"operator\">+</span>) ＝ [表<span class=\"number\">2.</span>]列名</span><br></pre></td></tr></table></figure>\n右外连接：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span>  表<span class=\"number\">1</span>, 表<span class=\"number\">2</span>  <span class=\"keyword\">WHERE</span> [表<span class=\"number\">1.</span>]列名＝ [表<span class=\"number\">2.</span>]列名(<span class=\"operator\">+</span>) </span><br></pre></td></tr></table></figure>\n例44. 查询学生的修课情况，包括修了课程的学生和没有修课的学生。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Student.Sno, Sname, Cno, Grade</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student <span class=\"keyword\">LEFT</span> <span class=\"keyword\">OUTER</span> <span class=\"keyword\">JOIN</span> SC</span><br><span class=\"line\">  <span class=\"keyword\">ON</span> Student.Sno <span class=\"operator\">=</span> SC.Sno </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"子查询\"><a href=\"#子查询\" class=\"headerlink\" title=\"子查询\"></a>子查询</h3><ul>\n<li><p>在SQL语言中，一个SELECT－FROM－WHERE语句称为一个查询块。</p>\n</li>\n<li><p>子查询是一个 SELECT 查询，它嵌套在 SELECT、INSERT、UPDATE、DELETE 语句的 WHERE 或 HAVING 子句内，或其它子查询中 </p>\n</li>\n<li><p>子查询的 SELECT 查询总是使用圆括号括起来。</p>\n</li>\n<li><p>使用子查询进行基于集合的测试的语句的一般格式为：<br><code>列名 [NOT] IN (子查询) </code></p>\n</li>\n<li><p>示例<br>例45. 查询与刘晨在同一个系的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname, Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sdept <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sname <span class=\"operator\">=</span> ‘刘晨’ )</span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Sname <span class=\"operator\">!=</span> ‘刘晨’ </span><br></pre></td></tr></table></figure>\n<p>例45. 查询与刘晨在同一个系的学生。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname, Sdept</span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sdept <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sdept <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sname <span class=\"operator\">=</span> ‘刘晨’ )</span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Sname <span class=\"operator\">!=</span> ‘刘晨’ </span><br></pre></td></tr></table></figure>\n<p>例47. 查询选修了“数据库基础”课程的学生的学号、姓名。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno, Sname <span class=\"keyword\">FROM</span> Student</span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"keyword\">IN</span></span><br><span class=\"line\">    ( <span class=\"keyword\">SELECT</span> Sno <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Cno <span class=\"keyword\">IN</span></span><br><span class=\"line\">      ( <span class=\"keyword\">SELECT</span> Cno <span class=\"keyword\">FROM</span> Course</span><br><span class=\"line\">        <span class=\"keyword\">WHERE</span> Cname <span class=\"operator\">=</span> <span class=\"string\">&#x27;数据库基础&#x27;</span>) ) </span><br></pre></td></tr></table></figure></li>\n<li><p><strong>使用子查询进行比较测试</strong></p>\n<ul>\n<li>带比较运算符的子查询指父查询与子查询之间用比较运算符连接，</li>\n<li>当用户能确切知道内层查询返回的是单值时，可用&gt;、&lt;、&#x3D;、&gt;&#x3D;、&lt;&#x3D;、&lt;&gt;运算符。<br>例48. 查询修了‘c02’课程且成绩高于此课程的平均成绩的学生的学号和成绩。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sno , Grade <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">   <span class=\"keyword\">WHERE</span> Cno <span class=\"operator\">=</span> `c02`</span><br><span class=\"line\">   <span class=\"keyword\">and</span> Grade <span class=\"operator\">&gt;</span> (</span><br><span class=\"line\">     <span class=\"keyword\">SELECT</span> <span class=\"built_in\">AVG</span>(Grade) <span class=\"keyword\">from</span> SC </span><br><span class=\"line\">        <span class=\"keyword\">WHERE</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c02&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><strong>使用子查询进行存在性测试</strong></p>\n<ul>\n<li>一般使用EXISTS谓词。</li>\n<li><strong>带EXISTS谓词的子查询不返回查询的数据，只产生逻辑真值（有数据）和假值（没有数据）。</strong><br>例49.查询选修了‘c01’号课程的学生姓名。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> <span class=\"keyword\">EXISTS</span></span><br><span class=\"line\">    (<span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> Student.Sno              </span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c01&#x27;</span>) </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>注1：</strong>处理过程为：先外后内；由外层的值决定内层的结果；内层执行次数由外层结果数决定。<br><strong>注2：</strong>由于EXISTS的子查询只能返回真或假值，因此在这里给出列名无意义。所以在有EXISTS的子查询中，其目标列表达式通常都用*。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p><strong>上句的处理过程</strong></p>\n</li>\n</ul>\n<ol>\n<li>找外层表Student表的第一行，根据其Sno值处理内层查询</li>\n<li>由外层的值与内层的结果比较，由此决定外层条件的真、假</li>\n<li>顺序处理外层表Student表中的第2、3、…行。<br>例50.查询没有选修‘c01’号课程的学生姓名和所在系。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> Sname, Sdept <span class=\"keyword\">FROM</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span></span><br><span class=\"line\">    (<span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> SC</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> Student.Sno </span><br><span class=\"line\">      <span class=\"keyword\">AND</span> Cno <span class=\"operator\">=</span> <span class=\"string\">&#x27;c01&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"数据更改功能\"><a href=\"#数据更改功能\" class=\"headerlink\" title=\"数据更改功能\"></a>数据更改功能</h2><h3 id=\"插入数据\"><a href=\"#插入数据\" class=\"headerlink\" title=\"插入数据\"></a>插入数据</h3><ul>\n<li>插入单行记录的INSERT语句的格式为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span> [(<span class=\"operator\">&lt;</span>列名表<span class=\"operator\">&gt;</span>)] </span><br><span class=\"line\">  <span class=\"keyword\">VALUES</span> （值表）</span><br></pre></td></tr></table></figure></li>\n<li><strong>功能：</strong>新增一个符合表结构的数据行，将值表数据按表中列定义顺序[或列名表顺序]赋给对应列名。</li>\n<li><strong>注意：</strong>值列表中的值与列名表中的列按位置顺序对应，它们的数据类型必须一致。</li>\n<li>如果&lt;表名&gt;后边没有指明列名，则新插入记录的值的顺序必须与表中列的定义顺序一致，且每一个列均有值（可以为空）。</li>\n<li><strong>示例</strong><br>例51．将新生记录（95020，陈冬，男，信息系，18岁）插入到Student表中。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> Student </span><br><span class=\"line\">    <span class=\"keyword\">VALUES</span> (<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;陈冬&#x27;</span>, <span class=\"string\">&#x27;男&#x27;</span>, <span class=\"number\">18</span>, <span class=\"string\">&#x27;信息系&#x27;</span>)</span><br></pre></td></tr></table></figure>\n例52．在SC表中插入一新记录，成绩暂缺。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> SC(Sno, Cno, XKLB) </span><br><span class=\"line\">    <span class=\"keyword\">VALUES</span>(<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;c01&#x27;</span>, <span class=\"string\">&#x27;必修&#x27;</span>) </span><br></pre></td></tr></table></figure>\n实际插入的值为：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"string\">&#x27;9521105&#x27;</span>, <span class=\"string\">&#x27;c01&#x27;</span> ，<span class=\"keyword\">NULL</span> ，<span class=\"string\">&#x27;必修&#x27;</span>) </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"更新数据\"><a href=\"#更新数据\" class=\"headerlink\" title=\"更新数据\"></a>更新数据</h3><ul>\n<li><p>用UPDATE语句实现。</p>\n</li>\n<li><p>格式：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"operator\">&lt;</span>表名<span class=\"operator\">&gt;</span> </span><br><span class=\"line\">  <span class=\"keyword\">SET</span> <span class=\"operator\">&lt;</span>列名＝表达式<span class=\"operator\">&gt;</span> [,… n]</span><br><span class=\"line\">  [<span class=\"keyword\">WHERE</span> <span class=\"operator\">&lt;</span>更新条件<span class=\"operator\">&gt;</span>]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>无条件更新</strong><br>例53. 将所有学生的年龄加1。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> Student </span><br><span class=\"line\">  <span class=\"keyword\">SET</span> Sage <span class=\"operator\">=</span> Sage <span class=\"operator\">+</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure></li>\n<li><p><strong>有条件更新</strong></p>\n</li>\n</ul>\n<ol>\n<li>基于本表条件的更新<br>例54. 将‘9512101’学生的年龄改为21岁<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> Student <span class=\"keyword\">SET</span> Sage <span class=\"operator\">=</span> <span class=\"number\">21</span></span><br><span class=\"line\">  <span class=\"keyword\">WHERE</span> Sno <span class=\"operator\">=</span> <span class=\"string\">&#x27;9512101&#x27;</span> </span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"删除数据\"><a href=\"#删除数据\" class=\"headerlink\" title=\"删除数据\"></a>删除数据</h3><h2 id=\"建立与删除索引\"><a href=\"#建立与删除索引\" class=\"headerlink\" title=\"建立与删除索引\"></a>建立与删除索引</h2>","categories":[],"tags":[]}